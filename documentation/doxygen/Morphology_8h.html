<!-- HTML header for doxygen 1.15.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenVDB: openvdb/tools/Morphology.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="openvdb.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="openvdb_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">OpenVDB<span id="projectnumber">&#160;13.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('Morphology_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Morphology.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of morphological dilation and erosion.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="Activate_8h_source.html">Activate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Prune_8h_source.html">Prune.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ValueTransformer_8h_source.html">ValueTransformer.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="openvdb_2Types_8h_source.html">openvdb/Types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="Grid_8h_source.html">openvdb/Grid.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="ValueAccessor_8h_source.html">openvdb/tree/ValueAccessor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="LeafManager_8h_source.html">openvdb/tree/LeafManager.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="openvdb_8h_source.html">openvdb/openvdb.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="PointDataGrid_8h_source.html">openvdb/points/PointDataGrid.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="Assert_8h_source.html">openvdb/util/Assert.h</a>&gt;</code><br />
<code>#include &lt;tbb/task_arena.h&gt;</code><br />
<code>#include &lt;tbb/enumerable_thread_specific.h&gt;</code><br />
<code>#include &lt;tbb/parallel_for.h&gt;</code><br />
<code>#include &lt;type_traits&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div>
<p><a href="Morphology_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:Morphology_3C_20TreeType_20_3E" id="r_Morphology_3C_20TreeType_20_3E"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classopenvdb_1_1v13__0_1_1tools_1_1morphology_1_1Morphology.html">Morphology&lt; TreeType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dilation/Erosion operations over a Trees leaf level voxel topology.  <a href="classopenvdb_1_1v13__0_1_1tools_1_1morphology_1_1Morphology.html#details">More...</a><br /></td></tr>
<tr class="memitem:Morphology_3C_20TreeType_20_3E_3A_3ANodeMaskOp" id="r_Morphology_3C_20TreeType_20_3E_3A_3ANodeMaskOp"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structopenvdb_1_1v13__0_1_1tools_1_1morphology_1_1Morphology_1_1NodeMaskOp.html">Morphology&lt; TreeType &gt;::NodeMaskOp</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Node Mask dilation/erosion operations for individual leaf nodes on a given tree. The leaf node may optionally belong to a different tree than the provided accessor, which will have the effect of dilating the leaf node mask into a different tree, or eroding the node mask based on corresponding neighbors in a different tree.  <a href="structopenvdb_1_1v13__0_1_1tools_1_1morphology_1_1Morphology_1_1NodeMaskOp.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-namespaces" class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:openvdb" id="r_openvdb"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb.html">openvdb</a></td></tr>
<tr class="memitem:openvdb_3A_3Av13_5F0" id="r_openvdb_3A_3Av13_5F0"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0.html">openvdb::v13_0</a></td></tr>
<tr class="memitem:openvdb_3A_3Av13_5F0_3A_3Atools" id="r_openvdb_3A_3Av13_5F0_3A_3Atools"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html">openvdb::v13_0::tools</a></td></tr>
<tr class="memitem:openvdb_3A_3Av13_5F0_3A_3Atools_3A_3Amorphology" id="r_openvdb_3A_3Av13_5F0_3A_3Atools_3A_3Amorphology"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools_1_1morphology.html">openvdb::v13_0::tools::morphology</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a31d3cd59d1264144ae21e5250166cfc2" id="r_a31d3cd59d1264144ae21e5250166cfc2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#a31d3cd59d1264144ae21e5250166cfc2">NearestNeighbors</a> { <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#a31d3cd59d1264144ae21e5250166cfc2a8b7234ad92f6feba2725d890a38fdd59">NN_FACE</a> = 6
, <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#a31d3cd59d1264144ae21e5250166cfc2a6d84698cb77f59ae061433cbb1313bbf">NN_FACE_EDGE</a> = 18
, <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#a31d3cd59d1264144ae21e5250166cfc2a2cbda8f22b738858b06cb668117278ee">NN_FACE_EDGE_VERTEX</a> = 26
 }</td></tr>
<tr class="memdesc:a31d3cd59d1264144ae21e5250166cfc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Voxel topology of nearest neighbors.  <a href="namespaceopenvdb_1_1v13__0_1_1tools.html#a31d3cd59d1264144ae21e5250166cfc2">More...</a><br /></td></tr>
<tr class="memitem:ac7a17ca003c7f18f411cab4e8b4f6e74" id="r_ac7a17ca003c7f18f411cab4e8b4f6e74"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#ac7a17ca003c7f18f411cab4e8b4f6e74">TilePolicy</a> { <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#ac7a17ca003c7f18f411cab4e8b4f6e74ab6e5cc3f7167ba290c413016ae105d99">IGNORE_TILES</a>
, <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#ac7a17ca003c7f18f411cab4e8b4f6e74ab3c4d64060dcfe7f0949fb11f8ad789c">EXPAND_TILES</a>
, <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#ac7a17ca003c7f18f411cab4e8b4f6e74ab963e977b12771992aceaf779527c26f">PRESERVE_TILES</a>
 }</td></tr>
<tr class="memdesc:ac7a17ca003c7f18f411cab4e8b4f6e74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Different policies when dilating trees with active tiles.  <a href="namespaceopenvdb_1_1v13__0_1_1tools.html#ac7a17ca003c7f18f411cab4e8b4f6e74">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7eeeface33ebfe532fc9a4675e79afec" id="r_a7eeeface33ebfe532fc9a4675e79afec"><td class="memTemplParams" colspan="2">template&lt;typename TreeOrLeafManagerT&gt; </td></tr>
<tr class="memitem:a7eeeface33ebfe532fc9a4675e79afec template"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#a7eeeface33ebfe532fc9a4675e79afec">dilateActiveValues</a> (TreeOrLeafManagerT &amp;tree, const int iterations=1, const <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#a31d3cd59d1264144ae21e5250166cfc2">NearestNeighbors</a> nn=<a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#a31d3cd59d1264144ae21e5250166cfc2a8b7234ad92f6feba2725d890a38fdd59">NN_FACE</a>, const <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#ac7a17ca003c7f18f411cab4e8b4f6e74">TilePolicy</a> mode=<a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#ac7a17ca003c7f18f411cab4e8b4f6e74ab963e977b12771992aceaf779527c26f">PRESERVE_TILES</a>, const bool threaded=true)</td></tr>
<tr class="memdesc:a7eeeface33ebfe532fc9a4675e79afec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Topologically dilate all active values (i.e. both voxels and tiles) in a tree using one of three nearest neighbor connectivity patterns.  <br /></td></tr>
<tr class="memitem:a6872c2dd6da764c5600bd8ad2a126060" id="r_a6872c2dd6da764c5600bd8ad2a126060"><td class="memTemplParams" colspan="2">template&lt;typename TreeOrLeafManagerT&gt; </td></tr>
<tr class="memitem:a6872c2dd6da764c5600bd8ad2a126060 template"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#a6872c2dd6da764c5600bd8ad2a126060">erodeActiveValues</a> (TreeOrLeafManagerT &amp;tree, const int iterations=1, const <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#a31d3cd59d1264144ae21e5250166cfc2">NearestNeighbors</a> nn=<a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#a31d3cd59d1264144ae21e5250166cfc2a8b7234ad92f6feba2725d890a38fdd59">NN_FACE</a>, const <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#ac7a17ca003c7f18f411cab4e8b4f6e74">TilePolicy</a> mode=<a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#ac7a17ca003c7f18f411cab4e8b4f6e74ab963e977b12771992aceaf779527c26f">PRESERVE_TILES</a>, const bool threaded=true)</td></tr>
<tr class="memdesc:a6872c2dd6da764c5600bd8ad2a126060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Topologically erode all active values (i.e. both voxels and tiles) in a tree using one of three nearest neighbor connectivity patterns.  <br /></td></tr>
<tr class="memitem:a162b74cc60225f930ed94e731bcbc922" id="r_a162b74cc60225f930ed94e731bcbc922"><td class="memTemplParams" colspan="2">template&lt;typename TreeT&gt; </td></tr>
<tr class="memitem:a162b74cc60225f930ed94e731bcbc922 template"><td class="memItemLeft" align="right" valign="top">std::enable_if&lt; std::is_same&lt; TreeT, typenameTreeT::templateValueConverter&lt; <a class="el" href="classopenvdb_1_1v13__0_1_1ValueMask.html">ValueMask</a> &gt;::Type &gt;::value, typenameTreeT::templateValueConverter&lt; <a class="el" href="classopenvdb_1_1v13__0_1_1ValueMask.html">ValueMask</a> &gt;::Type * &gt;::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools_1_1morphology.html#a162b74cc60225f930ed94e731bcbc922">getMaskTree</a> (TreeT &amp;tree)</td></tr>
<tr class="memitem:a2138f4a1117354669b1c0527c0f3301e" id="r_a2138f4a1117354669b1c0527c0f3301e"><td class="memTemplParams" colspan="2">template&lt;typename TreeT&gt; </td></tr>
<tr class="memitem:a2138f4a1117354669b1c0527c0f3301e template"><td class="memItemLeft" align="right" valign="top">std::enable_if&lt;!std::is_same&lt; TreeT, typenameTreeT::templateValueConverter&lt; <a class="el" href="classopenvdb_1_1v13__0_1_1ValueMask.html">ValueMask</a> &gt;::Type &gt;::value, typenameTreeT::templateValueConverter&lt; <a class="el" href="classopenvdb_1_1v13__0_1_1ValueMask.html">ValueMask</a> &gt;::Type * &gt;::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools_1_1morphology.html#a2138f4a1117354669b1c0527c0f3301e">getMaskTree</a> (TreeT &amp;)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of morphological dilation and erosion. </p>
<dl class="section author"><dt>Authors</dt><dd>Ken Museth, Nick Avramoussis</dd></dl>
<dl class="section note"><dt>Note</dt><dd>By design the morphological operations only change the state of voxels, not their values. If one desires to change the values of voxels that change state an efficient technique is to construct a boolean mask by performing a topology difference between the original and final grids. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_5862e09d5e9b1231151ba919eed3a485.html">openvdb</a></li><li class="navelem"><a href="dir_56dd20a90d91c3ec0f84e02ccf2e754a.html">tools</a></li><li class="navelem"><a href="Morphology_8h.html">Morphology.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
