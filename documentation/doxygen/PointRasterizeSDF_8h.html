<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenVDB: openvdb/points/PointRasterizeSDF.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenVDB
   &#160;<span id="projectnumber">13.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5862e09d5e9b1231151ba919eed3a485.html">openvdb</a></li><li class="navelem"><a class="el" href="dir_c9229911bfd1cba3327f6b216c5f36b0.html">points</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">PointRasterizeSDF.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Various transfer schemes for rasterizing point positions and radius data to signed distance fields with optional closest point attribute transfers. All methods support arbitrary target linear transformations, fixed or varying point radius, filtering of point data and arbitrary types for attribute transferring.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="PointDataGrid_8h_source.html">PointDataGrid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PointTransfer_8h_source.html">PointTransfer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PointStatistics_8h_source.html">PointStatistics.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="openvdb_8h_source.html">openvdb/openvdb.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="openvdb_2Types_8h_source.html">openvdb/Types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="Prune_8h_source.html">openvdb/tools/Prune.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="ValueTransformer_8h_source.html">openvdb/tools/ValueTransformer.h</a>&gt;</code><br />
<code>#include &lt;openvdb/thread/Threading.h&gt;</code><br />
<code>#include &lt;<a class="el" href="NullInterrupter_8h_source.html">openvdb/util/NullInterrupter.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="Assert_8h_source.html">openvdb/util/Assert.h</a>&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &lt;tbb/task_group.h&gt;</code><br />
<code>#include &lt;tbb/parallel_reduce.h&gt;</code><br />
<code>#include &quot;<a class="el" href="PointRasterizeSDFImpl_8h_source.html">impl/PointRasterizeSDFImpl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PointRasterizeEllipsoidsSDFImpl_8h_source.html">impl/PointRasterizeEllipsoidsSDFImpl.h</a>&quot;</code><br />
</div>
<p><a href="PointRasterizeSDF_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structopenvdb_1_1v13__0_1_1points_1_1SphereSettings.html">SphereSettings&lt; AttributeTs, RadiusAttributeT, FilterT &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic settings for narrow band spherical stamping with a uniform or varying radius and optionally with closest point attribute transfer of arbitrary attributes. See the struct member documentation for detailed behavior.  <a href="structopenvdb_1_1v13__0_1_1points_1_1SphereSettings.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structopenvdb_1_1v13__0_1_1points_1_1SmoothSphereSettings.html">SmoothSphereSettings&lt; AttributeTs, RadiusAttributeT, FilterT &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smoothed point distribution based sphere stamping with a uniform radius or varying radius and optionally with closest point attribute transfer of arbitrary attributes. See the struct member documentation for detailed behavior.  <a href="structopenvdb_1_1v13__0_1_1points_1_1SmoothSphereSettings.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structopenvdb_1_1v13__0_1_1points_1_1EllipsoidSettings.html">EllipsoidSettings&lt; AttributeTs, RadiusAttributeT, FilterT &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Anisotropic point rasterization based on the principal component analysis of point neighbours. See the struct member documentation for detailed behavior.  <a href="structopenvdb_1_1v13__0_1_1points_1_1EllipsoidSettings.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceopenvdb"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb.html">openvdb</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceopenvdb_1_1v13__0"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0.html">openvdb::v13_0</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceopenvdb_1_1v13__0_1_1points"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1points.html">openvdb::v13_0::points</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7c7a41f2a2676f4525b8584962c78098"><td class="memTemplParams" colspan="2">template&lt;typename PointDataGridT , typename SdfT  = typename PointDataGridT::template ValueConverter&lt;float&gt;::Type, typename SettingsT &gt; </td></tr>
<tr class="memitem:a7c7a41f2a2676f4525b8584962c78098"><td class="memTemplItemLeft" align="right" valign="top">GridPtrVec&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1points.html#a7c7a41f2a2676f4525b8584962c78098">rasterizeSdf</a> (const PointDataGridT &amp;points, const SettingsT &amp;settings)</td></tr>
<tr class="memdesc:a7c7a41f2a2676f4525b8584962c78098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform point rasterzation to produce a signed distance field.  <a href="namespaceopenvdb_1_1v13__0_1_1points.html#a7c7a41f2a2676f4525b8584962c78098">More...</a><br /></td></tr>
<tr class="separator:a7c7a41f2a2676f4525b8584962c78098"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Various transfer schemes for rasterizing point positions and radius data to signed distance fields with optional closest point attribute transfers. All methods support arbitrary target linear transformations, fixed or varying point radius, filtering of point data and arbitrary types for attribute transferring. </p>
<dl class="section author"><dt>Author</dt><dd>Nick Avramoussis</dd></dl>
<p>There are currently three main transfer implementations:</p>
<ul>
<li><p class="startli">Rasterize Spheres</p>
<p class="startli">Performs trivial narrow band stamping of spheres for each point. This is an extremely fast and efficient way to produce both a valid symmetrical narrow band level set and transfer attributes using closest point lookups.</p>
</li>
<li><p class="startli">Rasterize Smooth Spheres</p>
<p class="startli">Calculates an averaged position of influence per voxel as described in: [Animating Sand as a Fluid - Zhu Bridson 2005].</p>
<p class="startli">This technique produces smoother, more blended connections between points which is ideal for generating a more artistically pleasant surface directly from point distributions. It aims to avoid typical post filtering operations used to smooth surface volumes. Note however that this method can be prone to temporal instabilities (that is, given a sequence of frames, consecutive frames may not generate surfaces that transition as smoothly) due to changes in point distributions resulting in more abrupt surface changes. It may also not necessarily produce a <em>symmetrical</em> narrow band level set; the exterior band may be smaller than desired depending on the search radius - the surface can be rebuilt or resized if necessary. The same closet point algorithm is used to transfer attributes.</p>
</li>
<li><p class="startli">Rasterize Ellipsoids.</p>
<p class="startli">Rasterizes anisotropic ellipses for each point by analyzing point neighborhood distributions, as described in: [Reconstructing Surfaces of Particle-Based Fluids Using Anisotropic Kernel - Yu Turk 2010].</p>
<p class="startli">This method uses the affine matrix attributes from the <a class="el" href="namespaceopenvdb_1_1v13__0_1_1points.html#a74fa733452dea2d0ee1d99c9583fd30d" title="Calculate ellipsoid transformations from the local point distributions as described in Yu and Turk&#39;s ...">points::pca()</a> method which model these elliptical distributions using principal component analysis. The ellipses create a much tighter, more fitted surface that better represents the convex hull of the point set. This technique also allows point to smoothly blend from their computed ellipse back to a canonical sphere, as well as allowing isolated points to be rasterized with their own radius. Although the rasterization step of this pipeline is relatively fast, it is still the slowest of all three methods, and depends on the somewhat expensive <a class="el" href="namespaceopenvdb_1_1v13__0_1_1points.html#a74fa733452dea2d0ee1d99c9583fd30d" title="Calculate ellipsoid transformations from the local point distributions as described in Yu and Turk&#39;s ...">points::pca()</a> method if you're not providing your own transformations. Still, this technique can be far superior at producing fluid surfaces where thin sheets (waterfalls) or sharp edges (wave breaks) are desirable.</p>
<p class="startli">In general, it is recommended to consider post rebuilding/renormalizing the generated surface using either <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#af574939742ed86a148731292520c8e30" title="Return a new grid of type GridType that contains a narrow-band level set representation of an isosurf...">tools::levelSetRebuild()</a> or <a class="el" href="namespaceopenvdb_1_1v13__0_1_1tools.html#af5c0227e6c84797a06542df58c2b564d" title="Normalize the vectors of the given vector-valued grid. ">tools::LevelSetTracker::normalize()</a> tools::LevelSetTracker::resize().</p>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>These methods use the framework provided in <a class="el" href="PointTransfer_8h.html" title="Framework methods for rasterizing PointDataGrid data to Trees. ">PointTransfer.h</a> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
