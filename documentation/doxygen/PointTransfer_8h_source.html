<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenVDB: openvdb/points/PointTransfer.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenVDB
   &#160;<span id="projectnumber">12.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5862e09d5e9b1231151ba919eed3a485.html">openvdb</a></li><li class="navelem"><a class="el" href="dir_c9229911bfd1cba3327f6b216c5f36b0.html">points</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PointTransfer.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PointTransfer_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright Contributors to the OpenVDB Project</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span><span class="comment"></span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/// @author Nick Avramoussis</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/// @file PointTransfer.h</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/// @brief  Framework methods for rasterizing PointDataGrid data to Trees.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// @details  Provides a generic inherited interface for deriving transfer</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">///   schemes that represent how point data should be rasterized. The provided</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">///   components together support the transfer of multiple attributes to</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">///   arbitrary and multiple grid types. Target grids must have the same</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">///   transform, but this transform can differ from the source PointDataGrid</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">///   (multiple instantiations of rasterize() should instead be invoked to</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">///   transfer to grids of different transforms). Arbitrary attributes can be</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">///   accessed and transfered to arbitrary trees.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#ifndef OPENVEB_POINTS_TRANSFER_HAS_BEEN_INCLUDED</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#define OPENVEB_POINTS_TRANSFER_HAS_BEEN_INCLUDED</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="openvdb_8h.html">openvdb/openvdb.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="openvdb_2Types_8h.html">openvdb/Types.h</a>&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Grid_8h.html">openvdb/Grid.h</a>&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Transform_8h.html">openvdb/math/Transform.h</a>&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="NullInterrupter_8h.html">openvdb/util/NullInterrupter.h</a>&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Assert_8h.html">openvdb/util/Assert.h</a>&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;openvdb/thread/Threading.h&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceopenvdb.html">openvdb</a> {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<a class="code" href="version_8h_8in.html#a2dde157791cd7558cdf886489256ba14">OPENVDB_USE_VERSION_NAMESPACE</a></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span><a class="code" href="version_8h_8in.html#a00be3835cb8ad1ded8abd821fad20fc0">OPENVDB_VERSION_NAME</a> {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span>points {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/// @brief Perform potentially complex rasterization from a user defined</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">///  transfer scheme. See below comments for the transfer scheme API.</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/// @details The method works by looping over a single Tree topology, looking</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">///   up point data at a position relative to that topology and passing that</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">///   data to a transfer scheme TransferT.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">/// @note  Each thread receives a copy of the transfer scheme object.</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">/// @param points       the point data grid or tree to rasterize</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/// @param transfer     the transfer scheme</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>DataTreeOrGr<span class="keywordtype">id</span>T, <span class="keyword">typename</span> TransferT&gt;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<a class="code" href="namespaceopenvdb_1_1v12__1_1_1points.html#a8be61e4e3201107ade807615f164d926">rasterize</a>(<span class="keyword">const</span> PointDataTreeOrGridT&amp; points, TransferT&amp; transfer);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/// @par A transfer scheme must be configured to call the provided rasterize</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">///   methods. See below for an example, or the various native VDB files which</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">///   implement schemes e.g.:</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">///     - PointRasterizeSDF.h</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">///     - PointRasterizeTrilinear.h</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">///     - PrincipalComponentAnalysisImpl.h</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/// @code</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/// struct Transfer</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/// {</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">///     /// @return Returns the tree topology to loop over. This can be different</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">///     ///   from the destination tree i.e. This can act as a mask.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">///     inline auto&amp; topology();</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">///     /// @brief  The maximum lookup range of this transfer scheme in index</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">///     ///   space of the source points.</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">///     /// @details The return value represent how far away from the destination</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">///     ///   leaf node points should be accessed.</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">///     /// @param origin  The leaf origin of the topology being accessed</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">///     /// @param idx     The leaf index of the topology being accessed</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">///     inline Int32 range(const Coord&amp; origin, size_t idx) const;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">///     /// @brief  The initialize function, called on each leaf which has valid</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">///     ///   topology to write to.</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">///     /// @param origin  The leaf origin of the topology being accessed</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">///     /// @param idx     The leaf index of the topology being accessed</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">///     /// @param bounds  The active voxel bounds of the leaf</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">///     inline void initialize(const Coord&amp; origin, size_t idx, const CoordBBox&amp; bounds);</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">///     /// @brief  Run each time a point leaf is accessed. Typically this is</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">///     ///  where attribute handles can be constructed</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">///     /// @param leaf  The PointDataLeafNode which is being accessed.</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">///     /// @return  Return true to continue rasterization, false to early exit</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">///     ///   and skip the current leaf&#39;s contribution to the destination volume.</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">///     inline bool startPointLeaf(const PointDataTree::LeafNodeType&amp; leaf);</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">///     ///////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">///     // Transfer scheme must implement either:</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">///     //   - rasterizePoint(Coord, Index, CoordBBox) OR</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">///     //   - rasterizePoints(Coord, Index, Index, CoordBBox)</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">///     /// @brief  The point stamp function. Each point which contributes to</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">///     ///  the current leaf will call this function exactly once.</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">///     /// @param ijk  The current voxel containing the point being rasterized.</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">///     ///   May be outside the destination leaf node depending on the range()</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">///     /// @param id   The point index being rasterized</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">///     /// @param bounds  The active bounds of the leaf node.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">///     void rasterizePoint(const Coord&amp; ijk,</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">///         const Index id,</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">///         const CoordBBox&amp; bounds);</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">///     /// @brief  Same as above, except this is passed a range of points</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">///     ///   that all belong to the same voxel</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">///     /// @param ijk  The current voxel containing the point being rasterized.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">///     ///   May be outside the destination leaf node depending on the range()</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">///     /// @param start   The start point index being rasterized</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">///     /// @param end     The end point index being rasterized</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">///     /// @param bounds  The active bounds of the leaf node.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">///     void rasterizePoints(const Coord&amp; ijk,</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">///          const Index start,</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">///          const Index end,</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">///          const CoordBBox&amp; bounds);</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">///     ///////////////////////////////////////////////////////////////////////</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">///     /// @brief  Run each time a point leaf is finished with.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">///     /// @param leaf  The PointDataLeafNode which was being accessed.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">///     /// @return  Return true to continue rasterization, false to early exit</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">///     ///   and stop rasterization to the destination leaf node.</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">///     inline bool endPointLeaf(const PointDataTree::LeafNodeType&amp; leaf);</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">///     /// @brief  The finalization function for the given destination tree(s).</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">///     /// @param origin  The leaf origin of the topology being accessed</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">///     /// @param idx     The leaf index of the topology being accessed</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">///     /// @return  Return true to stop, false to recursively rasterize</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">///     inline bool finalize(const Coord&amp; origin, size_t idx);</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">/// };</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">/// @endcode</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">/// Below is a full example using the native components.</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">/// @code</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">/// /// @brief Sum point distances into a target float tree</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">/// ///   Note: Using TransformTransfer to handle different index spaces, and</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">/// ///   VolumeTransfer for automatic buffer setup</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">/// struct MyTransfer :</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">///     public TransformTransfer,</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">///     public VolumeTransfer&lt;FloatTree&gt;</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">/// {</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">///     MyTransfer(FloatGrid&amp; dest, const PointDataGrid&amp; source)</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">///         : TransformTransfer(source.transform(), dest.transform())</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">///         , VolumeTransfer(dest.tree()) {}</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">///     MyTransfer(const MyTransfer&amp; other)</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">///         : TransformTransfer(other)</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">///         , VolumeTransfer(other) {}</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">///     /// @brief Range in index space of the source points</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">///     Vec3i range(const Coord&amp;, size_t) const { return Vec3i(1); }</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">///     /// @brief Every time we start a new point leaf, init the position array.</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">///     ///   Always return true as we don&#39;t skip any leaf nodes.</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">///     bool startPointLeaf(const PointDataTree::LeafNodeType&amp; leaf)</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">///     {</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">///         // @note consider caching the indices to &quot;P&quot; and &quot;mygroup&quot; for faster lookups</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">///         mHandle = std::make_unique&lt;AttributeHandle&lt;Vec3f&gt;&gt;(leaf.constAttributeArray(&quot;P&quot;));</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">///         mFilter = std::make_unique&lt;GroupFilter&gt;(&quot;mygroup&quot;, leaf.attributeSet());</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">///         return true;</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">///     }</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">///     /// @brief  For each point, compute its relative index space position in</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">///     ///   the destination tree and sum the length of its distance</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">///     void rasterizePoint(const Coord&amp; ijk, const Index id, const CoordBBox&amp; bounds)</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">///     {</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">///         // skip points not in &quot;mygroup&quot;</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">///         if (!mFilter-&gt;valid(&amp;id)) return;</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">///         Vec3d P = ijk.asVec3d() + Vec3d(this-&gt;mHandle-&gt;get(id));</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">///         P = this-&gt;transformSourceToTarget(P); // TransformTransfer::transformSourceToTarget</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">///         // for each active voxel, accumulate distance</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">///         const auto* mask = this-&gt;mask(); // VolumeTransfer::mask</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">///         for (auto&amp; coord : bounds) {</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">///             const Index voxel = FloatTree::LeafNodeType::coordToOffset(coord);</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">///             if (!mask-&gt;isOn(voxel)) continue;</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">///             Vec3d dist = coord.asVec3d() - P;</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">///             this-&gt;buffer()[voxel] += dist.length(); // VolumeTransfer::buffer</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">///         }</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">///     }</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">///     /// @brief Return true for endPointLeaf() to continue, false for finalize() so</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">///     ///   we don&#39;t recurse.</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">///     bool endPointLeaf(const PointDataTree::LeafNodeType&amp;) { return true; }</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">///     bool finalize(const Coord&amp;, size_t) { return false; }</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">/// private:</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">///     std::unique_ptr&lt;AttributeHandle&lt;Vec3f&gt;&gt; mHandle {nullptr};</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">///     std::unique_ptr&lt;GroupFilter&gt; mFilter {nullptr};</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">/// };</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">/// @endcode</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">///////////////////////////////////////////////////</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">///////////////////////////////////////////////////</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">/// @brief  The TransformTransfer module should be used if the source transform</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">///   of the input points and the target transforms of the destination volumes</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">///   differ. The default rasterizer will skip index to world (and vice versa)</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">///   transformations unless a transfer scheme derives from a TransformTransfer.</span></div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html">  199</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html">TransformTransfer</a></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;{</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#af0adf292877ed1cd7955bd4c752dc12e">  201</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#af0adf292877ed1cd7955bd4c752dc12e">TransformTransfer</a>(<span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html">math::Transform</a>&amp; st,</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html">math::Transform</a>&amp; tt)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        : mSourceTransform(st)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        , mTargetTransform(tt) {}</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#af706ba490b42b827fce576b17a4051d8">  207</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#af706ba490b42b827fce576b17a4051d8">transformSourceToTarget</a>(<span class="keyword">const</span> T&amp; value)<span class="keyword"> const</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> result = mSourceTransform.indexToWorld(value);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">return</span> mTargetTransform.worldToIndex(result);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#af6aa11d3ec06afc2287e01845944a6ad">  214</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#af6aa11d3ec06afc2287e01845944a6ad">transformTargetToSource</a>(<span class="keyword">const</span> T&amp; value)<span class="keyword"> const</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> result = mTargetTransform.indexToWorld(value);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">return</span> mSourceTransform.worldToIndex(result);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#a86590a233121178127b187016c1408b9">  220</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html">math::Transform</a>&amp; <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#a86590a233121178127b187016c1408b9">sourceTransform</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mSourceTransform; }</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#a067c02b91ad0939bf44151e40d47d9ec">  221</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html">math::Transform</a>&amp; <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#a067c02b91ad0939bf44151e40d47d9ec">targetTransform</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mTargetTransform; }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html">math::Transform</a>&amp; mSourceTransform;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html">math::Transform</a>&amp; mTargetTransform;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;};</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">/// @brief  InterruptableTransfer module, when derived from allows for schemes</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">///    to callback into a interrupter, derived from util::NullInterrupter.</span></div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer.html">  230</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer.html">InterruptableTransfer</a></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer.html#ad1e9ba5eee4891f7c26373761057da33">  232</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer.html#ad1e9ba5eee4891f7c26373761057da33">InterruptableTransfer</a>(<a class="code" href="structopenvdb_1_1v12__1_1_1util_1_1NullInterrupter.html">util::NullInterrupter</a>* <span class="keyword">const</span> interrupt)</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        : mInterrupt(interrupt) {}</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer.html#ad869a90cb2dfe10fdf25323236615b02">  234</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer.html#ad869a90cb2dfe10fdf25323236615b02">interrupted</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespaceopenvdb_1_1v12__1_1_1util.html#a7783bf79cc10a02b50848680938e1a74">util::wasInterrupted</a>(mInterrupt)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        thread::cancelGroupExecution();</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1util_1_1NullInterrupter.html">util::NullInterrupter</a>* <span class="keyword">const</span> mInterrupt;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;};</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">/// @brief  FilteredTransfer module, when derived from allows for schemes</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">///    to apply point filtering. Note that this module handles the thread safe</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">///    intialization and storage of the filter, but derived schemes must call</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">///    FilteredTransfer::filter() per point id and handle the result.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> FilterT&gt;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html">  249</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html">FilteredTransfer</a></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#adf51674704b039fbe64fb9b252677498">  251</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#adf51674704b039fbe64fb9b252677498">FilteredTransfer</a>(<span class="keyword">const</span> FilterT&amp; filter)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        : mFilter(filter)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        , mLocalFilter(nullptr) {}</div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#aee1f430ba223609067e082214ecfd95e">  254</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#aee1f430ba223609067e082214ecfd95e">FilteredTransfer</a>(<span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html">FilteredTransfer</a>&amp; other)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        : mFilter(other.mFilter)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        , mLocalFilter(nullptr) {}</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#ae59d6c37a06a9f925bc8c6fb515abe12">  258</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#ae59d6c37a06a9f925bc8c6fb515abe12">initialize</a>(<span class="keyword">const</span> Coord&amp;, <span class="keyword">const</span> <span class="keywordtype">size_t</span>, <span class="keyword">const</span> CoordBBox&amp;)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        mLocalFilter = std::make_unique&lt;FilterT&gt;(mFilter);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#ab52947af43d708abb63e572657155eb4">  263</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#ab52947af43d708abb63e572657155eb4">startPointLeaf</a>(<span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1Tree.html#ad69afaa4f94a67ce2f7d0b18b339291e">PointDataTree::LeafNodeType</a>&amp; leaf)</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        mLocalFilter-&gt;reset(leaf);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#abd4dc7352391b90cd4f3c7d643ba81b7">  269</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#abd4dc7352391b90cd4f3c7d643ba81b7">filter</a>(<span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a> <span class="keywordtype">id</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">return</span> mLocalFilter-&gt;valid(&amp;<span class="keywordtype">id</span>);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keyword">const</span> FilterT&amp; mFilter;<span class="comment"></span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">    /// @note  Not all of the filters are assignable (e.g. GroupFilter).</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">    ///   should really fix this and make this stack allocated.</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"></span>    std::unique_ptr&lt;FilterT&gt; mLocalFilter;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;};</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">/// @brief  Specialization of FilteredTransfer for NullFilters which do nothing</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;&gt;</div><div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html">  283</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html">FilteredTransfer</a>&lt;<a class="code" href="classopenvdb_1_1v12__1_1_1points_1_1NullFilter.html">NullFilter</a>&gt;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;{</div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#aa30f1b4683e0efe851ccbeb29c496dc6">  285</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#aa30f1b4683e0efe851ccbeb29c496dc6">FilteredTransfer</a>(<span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1points_1_1NullFilter.html">NullFilter</a>&amp;) {}</div><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#ae59d6c37a06a9f925bc8c6fb515abe12">  286</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#ae59d6c37a06a9f925bc8c6fb515abe12">initialize</a>(<span class="keyword">const</span> Coord&amp;, <span class="keyword">const</span> <span class="keywordtype">size_t</span>, <span class="keyword">const</span> CoordBBox&amp;) {}</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#ae606d39748c3a43b44681ed988f64476">  287</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#ae606d39748c3a43b44681ed988f64476">startPointLeaf</a>(<span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1Tree.html#ad69afaa4f94a67ce2f7d0b18b339291e">PointDataTree::LeafNodeType</a>&amp;) { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#ad7438f62cdd4b110528049895f90f3cb">  288</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#ad7438f62cdd4b110528049895f90f3cb">filter</a>(<span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;};</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">/// @brief  The VolumeTransfer module provides methods to automatically setup</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">///   and access destination buffers for multiple target volumes of arbitrary</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">///   types. Deriving from a VolumeTransfer ensures that the available</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">///   buffers correlate to the order of the provided tree arguments.</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> ...TreeTypes&gt;</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html">  296</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html">VolumeTransfer</a></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div><div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ad9cbb88cc8635ed20ad0d21ab892fbdc">  298</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> Size = <span class="keyword">sizeof</span>...(TreeTypes);</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a75e7f5edd6f330b36df204460b91ee13">  299</a></span>&#160;    <span class="keyword">using</span> TreeTupleT = std::tuple&lt;<a class="code" href="namespaceopenvdb_1_1v12__1.html#a3a90960207f67b6eef0b2bd45c820e94">TreeTypes</a>*...&gt;;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5554d9d0502d74dabfae8f2723c2021e">  301</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> Idx&gt; <span class="keyword">using</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5554d9d0502d74dabfae8f2723c2021e">TreeType</a> = <span class="keyword">typename</span> std::tuple_element&lt;Idx, std::tuple&lt;<a class="code" href="namespaceopenvdb_1_1v12__1.html#a3a90960207f67b6eef0b2bd45c820e94">TreeTypes</a>...&gt;&gt;::type;</div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ae8e189e13632f5fba82d3b9987fac27b">  302</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> Idx&gt; <span class="keyword">using</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ae8e189e13632f5fba82d3b9987fac27b">ValueType</a> = <span class="keyword">typename</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5554d9d0502d74dabfae8f2723c2021e">TreeType&lt;Idx&gt;::ValueType</a>;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_1_1TypeResolver.html#a6ce345a1fb6fd44d696f8c495c5f61cc">  303</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_1_1TypeResolver.html">TypeResolver</a> { <span class="keyword">using</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_1_1TypeResolver.html#a6ce345a1fb6fd44d696f8c495c5f61cc">Type</a> = <span class="keyword">typename</span> T::ValueType; };</div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5ccd5c1b3b54229fc5c5786a32ab750f">  304</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5ccd5c1b3b54229fc5c5786a32ab750f">NodeMaskT</a> = <span class="keyword">typename</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5554d9d0502d74dabfae8f2723c2021e">TreeType&lt;0&gt;::LeafNodeType::NodeMaskType</a>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html">VolumeTransfer</a>(<a class="code" href="namespaceopenvdb_1_1v12__1.html#a3a90960207f67b6eef0b2bd45c820e94">TreeTypes</a>*... trees);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ac5b3e1fabaab092f258c10b7288f0fff">  308</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ac5b3e1fabaab092f258c10b7288f0fff">VolumeTransfer</a>(<a class="code" href="namespaceopenvdb_1_1v12__1.html#a3a90960207f67b6eef0b2bd45c820e94">TreeTypes</a>&amp;... trees)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        : <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html">VolumeTransfer</a>(&amp;trees...) {}</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a753ca45880d45558885a1b516045c19b">  311</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a753ca45880d45558885a1b516045c19b">VolumeTransfer</a>(<span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html">VolumeTransfer</a>&amp; other)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        : mTreeArray(other.mTreeArray)</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        , mBuffers()</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        , mMasks()</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        mBuffers.fill(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        mMasks.fill(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a7dcbdca77477d480bb81611687d0353d">  320</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5554d9d0502d74dabfae8f2723c2021e">TreeType&lt;0&gt;</a>&amp; <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a7dcbdca77477d480bb81611687d0353d">topology</a>() { <span class="keywordflow">return</span> *(std::get&lt;0&gt;(mTreeArray)); }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a49c172664d07773fe108364eafe82942">initialize</a>(<span class="keyword">const</span> Coord&amp; origin, <span class="keyword">const</span> <span class="keywordtype">size_t</span>, <span class="keyword">const</span> CoordBBox&amp;);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> Idx&gt;</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ad9a7f15a1ab3b1699d0a9f317ba6a078">  325</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ae8e189e13632f5fba82d3b9987fac27b">ValueType&lt;Idx&gt;</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ad9a7f15a1ab3b1699d0a9f317ba6a078">buffer</a>()</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ae8e189e13632f5fba82d3b9987fac27b">ValueType&lt;Idx&gt;</a>*<span class="keyword">&gt;</span>(mBuffers[Idx]);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> Idx&gt;</div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#aa30b9f46732645b6a93720ee42ac6ff3">  331</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ae8e189e13632f5fba82d3b9987fac27b">ValueType&lt;Idx&gt;</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#aa30b9f46732645b6a93720ee42ac6ff3">buffer</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ae8e189e13632f5fba82d3b9987fac27b">ValueType&lt;Idx&gt;</a>*<span class="keyword">&gt;</span>(mBuffers[Idx]);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> Idx&gt;</div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a1bd78480ba15df5d1f552951c8ae0bcc">  337</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5ccd5c1b3b54229fc5c5786a32ab750f">NodeMaskT</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a1bd78480ba15df5d1f552951c8ae0bcc">mask</a>() { <span class="keywordflow">return</span> mMasks[Idx]; }</div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#aba98c8a8a68f4e5cbc93b0c631c0a30e">  338</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5ccd5c1b3b54229fc5c5786a32ab750f">NodeMaskT</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#aba98c8a8a68f4e5cbc93b0c631c0a30e">mask</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> idx) { <span class="keywordflow">return</span> mMasks[idx]; }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> Idx&gt;</div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a0b011faf0559d1f7b84f3651c0ec187e">  341</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5ccd5c1b3b54229fc5c5786a32ab750f">NodeMaskT</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a0b011faf0559d1f7b84f3651c0ec187e">mask</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mMasks[Idx]; }</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a809d23cf44d5792962db4863b2bd0d97">  342</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5ccd5c1b3b54229fc5c5786a32ab750f">NodeMaskT</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a809d23cf44d5792962db4863b2bd0d97">mask</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> idx)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mMasks[idx]; }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> FunctorT&gt;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keywordflow">foreach</span>(<span class="keyword">const</span> FunctorT&amp; functor);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keyword">const</span> TreeTupleT mTreeArray;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    std::array&lt;void*, Size&gt; mBuffers;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    std::array&lt;NodeMaskT*, Size&gt; mMasks;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;};</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">/// @brief  VolumeTransfer specialization for a single target volume</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/// @todo this specialization should avoid the probe</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> TreeT&gt;</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html">  356</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html">VolumeTransfer</a>&lt;TreeT&gt;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#af07a8c75c48174ee79d06fbfe43dd821">  358</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#af07a8c75c48174ee79d06fbfe43dd821">TreeType</a> = TreeT;</div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a278c579e38e1c22703f95efa693b9c2f">  359</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a278c579e38e1c22703f95efa693b9c2f">ValueType</a> = <span class="keyword">typename</span> TreeType::ValueType;</div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#abb5608ad7d8eff60f182dc069a0a965d">  360</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#abb5608ad7d8eff60f182dc069a0a965d">NodeMaskT</a> = <span class="keyword">typename</span> TreeType::LeafNodeType::NodeMaskType;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    static_assert(std::is_base_of&lt;TreeBase, TreeType&gt;::value,</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="stringliteral">&quot;One or more template arguments to VolumeTransfer &quot;</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="stringliteral">&quot;are not a valid openvdb::Tree type.&quot;</span>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a6d9338bb9837d62e9ba37fa1974e97ff">  366</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a6d9338bb9837d62e9ba37fa1974e97ff">VolumeTransfer</a>(<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#af07a8c75c48174ee79d06fbfe43dd821">TreeType</a>* tree)</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        : mTree(tree)</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        , mBuffer(nullptr)</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        , mMask(nullptr) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="Assert_8h.html#a9b706542bb9f44d82cd273d74e722c35">OPENVDB_ASSERT</a>(tree);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a6126f557b945501180eeb60b9cb9c3fd">  373</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a6126f557b945501180eeb60b9cb9c3fd">VolumeTransfer</a>(<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#af07a8c75c48174ee79d06fbfe43dd821">TreeType</a>&amp; tree)</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        : <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html">VolumeTransfer</a>(&amp;tree) {}</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a753ca45880d45558885a1b516045c19b">  376</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a753ca45880d45558885a1b516045c19b">VolumeTransfer</a>(<span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html">VolumeTransfer</a>&amp; other)</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        : mTree(other.mTree)</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        , mBuffer(nullptr)</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        , mMask(nullptr) {}</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a387d41175f6b429a95a59ddea3b054e4">  381</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#af07a8c75c48174ee79d06fbfe43dd821">TreeType</a>&amp; <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a387d41175f6b429a95a59ddea3b054e4">topology</a>() { <span class="keywordflow">return</span> *mTree; }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a30509872033330fc12cd8c5398d5d5c7">  383</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a30509872033330fc12cd8c5398d5d5c7">initialize</a>(<span class="keyword">const</span> Coord&amp; origin, <span class="keyword">const</span> <span class="keywordtype">size_t</span>, <span class="keyword">const</span> CoordBBox&amp;)</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="Assert_8h.html#a9b706542bb9f44d82cd273d74e722c35">OPENVDB_ASSERT</a>(mTree);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> leaf = mTree-&gt;probeLeaf(origin)) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            mBuffer = leaf-&gt;buffer().data();</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            mMask = &amp;(leaf-&gt;getValueMask());</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            mBuffer = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            mMask = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a2ef3b0838debcb84adb5d646375facd9">  396</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a278c579e38e1c22703f95efa693b9c2f">ValueType</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a2ef3b0838debcb84adb5d646375facd9">buffer</a>() { <span class="keywordflow">return</span> mBuffer; }</div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#af814219322c18727688108c35ae92af1">  397</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a278c579e38e1c22703f95efa693b9c2f">ValueType</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#af814219322c18727688108c35ae92af1">buffer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mBuffer; }</div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a4b5fa0a9da86be25ae0c72ba6c46ea83">  398</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#abb5608ad7d8eff60f182dc069a0a965d">NodeMaskT</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a4b5fa0a9da86be25ae0c72ba6c46ea83">mask</a>() { <span class="keywordflow">return</span> mMask; }</div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a530a65c114efe7226d47c1361fb52ce2">  399</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#abb5608ad7d8eff60f182dc069a0a965d">NodeMaskT</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a530a65c114efe7226d47c1361fb52ce2">mask</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mMask; }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">// compatibility with multi tree containers</span></div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a724e5d389cd88faee8c42c38681891db">  402</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span>&gt; <span class="keyword">inline</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a278c579e38e1c22703f95efa693b9c2f">ValueType</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a724e5d389cd88faee8c42c38681891db">buffer</a>() { <span class="keywordflow">return</span> this-&gt;<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a724e5d389cd88faee8c42c38681891db">buffer</a>(); }</div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a658a35c7502501b5bf16deee60bf2748">  403</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span>&gt; <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a278c579e38e1c22703f95efa693b9c2f">ValueType</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a658a35c7502501b5bf16deee60bf2748">buffer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a658a35c7502501b5bf16deee60bf2748">buffer</a>(); }</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a1bd78480ba15df5d1f552951c8ae0bcc">  404</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span>&gt; <span class="keyword">inline</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#abb5608ad7d8eff60f182dc069a0a965d">NodeMaskT</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a1bd78480ba15df5d1f552951c8ae0bcc">mask</a>() { <span class="keywordflow">return</span> this-&gt;<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a1bd78480ba15df5d1f552951c8ae0bcc">mask</a>(); }</div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a0b011faf0559d1f7b84f3651c0ec187e">  405</a></span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span>&gt; <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#abb5608ad7d8eff60f182dc069a0a965d">NodeMaskT</a>* <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a0b011faf0559d1f7b84f3651c0ec187e">mask</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a0b011faf0559d1f7b84f3651c0ec187e">mask</a>(); }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#af07a8c75c48174ee79d06fbfe43dd821">TreeType</a>* <span class="keyword">const</span> mTree;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a278c579e38e1c22703f95efa693b9c2f">ValueType</a>* mBuffer;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#abb5608ad7d8eff60f182dc069a0a965d">NodeMaskT</a>* mMask;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;};</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="namespaceopenvdb_1_1v12__1_1_1points_1_1transfer__internal.html">  413</a></span>&#160;<span class="keyword">namespace </span>transfer_internal</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;{</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> F, <span class="keywordtype">size_t</span>... Is&gt;</div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="namespaceopenvdb_1_1v12__1_1_1points_1_1transfer__internal.html#a980ff9f98dcdc2c55a5085cfa9b7e342">  416</a></span>&#160;<span class="keywordtype">void</span> <span class="keywordflow">foreach</span>(T&amp;&amp; t, <span class="keyword">const</span> F&amp; func, std::integer_sequence&lt;size_t, Is...&gt;)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keyword">auto</span> init = { (func(std::get&lt;Is&gt;(t), Is), 0)... };</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    (void)init;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> F, <span class="keywordtype">size_t</span>... Is&gt;</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="namespaceopenvdb_1_1v12__1_1_1points_1_1transfer__internal.html#a7175d15ac25669c849fe50bf3061392f">  423</a></span>&#160;<span class="keywordtype">void</span> <span class="keywordflow">foreach</span>(<span class="keywordtype">void</span>** buffers, <span class="keyword">const</span> F&amp; func, std::integer_sequence&lt;size_t, Is...&gt;)</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordtype">int</span> init[<span class="keyword">sizeof</span>...(Is)] = {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        (func(<span class="keyword">static_cast&lt;</span>typename std::tuple_element&lt;Is, T&gt;::type*<span class="keyword">&gt;</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            (*(buffers + Is)), Is), 0)...</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    };</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">template</span> &lt;<span class="keyword">typename</span>&gt; <span class="keyword">class </span>R, <span class="keyword">typename</span> F, <span class="keywordtype">size_t</span>... Is&gt;</div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="namespaceopenvdb_1_1v12__1_1_1points_1_1transfer__internal.html#ad0640f4054e2307323a08b2497c02640">  432</a></span>&#160;<span class="keywordtype">void</span> <span class="keywordflow">foreach</span>(<span class="keywordtype">void</span>** buffers, <span class="keyword">const</span> F&amp; func, std::integer_sequence&lt;size_t, Is...&gt;)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;{</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordtype">int</span> init[<span class="keyword">sizeof</span>...(Is)] = {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        (func(<span class="keyword">static_cast&lt;</span>typename R&lt;typename std::tuple_element&lt;Is, T&gt;::type<span class="keyword">&gt;</span>::Type*&gt;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;           (*(buffers + Is)), Is), 0)...</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    };</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ...TreeTypes&gt;</div><div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a3b3e2c0e3fac421e15a419ffd1f7ad65">  442</a></span>&#160;<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html">VolumeTransfer&lt;TreeTypes...&gt;::VolumeTransfer</a>(<a class="code" href="namespaceopenvdb_1_1v12__1.html#a3a90960207f67b6eef0b2bd45c820e94">TreeTypes</a>*... trees)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    : mTreeArray({ trees... })</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    , mBuffers()</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    , mMasks()</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="namespaceopenvdb_1_1v12__1_1_1points_1_1transfer__internal.html#a980ff9f98dcdc2c55a5085cfa9b7e342">transfer_internal::foreach</a>(mTreeArray, [](<span class="keyword">auto</span>&amp;&amp; tree, <span class="keyword">const</span> <span class="keywordtype">size_t</span>) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keyword">using</span> TreeT = <span class="keyword">typename</span> std::remove_pointer&lt;typename std::decay&lt;decltype(tree)&gt;::type&gt;::type;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        static_assert(std::is_base_of&lt;TreeBase, TreeT&gt;::value,</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="stringliteral">&quot;One or more template arguments to VolumeTransfer &quot;</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="stringliteral">&quot;are not a valid openvdb::Tree type.&quot;</span>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <a class="code" href="Assert_8h.html#a9b706542bb9f44d82cd273d74e722c35">OPENVDB_ASSERT</a>(tree);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }, std::make_integer_sequence&lt;size_t, Size&gt;());</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    mBuffers.fill(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    mMasks.fill(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;}</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ...TreeTypes&gt;</div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a30509872033330fc12cd8c5398d5d5c7">  460</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a30509872033330fc12cd8c5398d5d5c7">VolumeTransfer&lt;TreeTypes...&gt;::initialize</a>(<span class="keyword">const</span> Coord&amp; origin, <span class="keyword">const</span> <span class="keywordtype">size_t</span>, <span class="keyword">const</span> CoordBBox&amp;)</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;{</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="namespaceopenvdb_1_1v12__1_1_1points_1_1transfer__internal.html#a980ff9f98dcdc2c55a5085cfa9b7e342">transfer_internal::foreach</a>(mTreeArray,</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        [&amp;](<span class="keyword">auto</span>&amp;&amp; tree, <span class="keyword">const</span> <span class="keywordtype">size_t</span> i) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <a class="code" href="Assert_8h.html#a9b706542bb9f44d82cd273d74e722c35">OPENVDB_ASSERT</a>(tree);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">if</span> (<span class="keyword">auto</span> leaf = tree-&gt;probeLeaf(origin)) {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                mBuffers[i] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(leaf-&gt;buffer().data());</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                mMasks[i] = &amp;(leaf-&gt;getValueMask());</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                mBuffers[i] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                mMasks[i] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        }, std::make_integer_sequence&lt;size_t, Size&gt;());</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> ...TreeTypes&gt;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> FunctorT&gt;</div><div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ab2329d26d1c51174902696e865eb5455">  478</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ab2329d26d1c51174902696e865eb5455">VolumeTransfer&lt;TreeTypes...&gt;::foreach</a>(<span class="keyword">const</span> FunctorT&amp; functor)</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;{</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    transfer_internal::foreach&lt;TreeTupleT, TypeResolver&gt;(mBuffers.data(), functor,</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        std::make_integer_sequence&lt;size_t, Size&gt;());</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="keyword">namespace </span>transfer_internal</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;{</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<a class="code" href="openvdb_2Types_8h.html#a0981f208aa4bfa3f9ae163e794b29764">OPENVDB_INIT_INVOKABLE_MEMBER_FUNCTION</a>(rasterizePoint)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<a class="code" href="openvdb_2Types_8h.html#a0981f208aa4bfa3f9ae163e794b29764">OPENVDB_INIT_INVOKABLE_MEMBER_FUNCTION</a>(rasterizePoints)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> TransferT,</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;          <span class="keyword">typename</span> TopologyT,</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;          <span class="keyword">typename</span> PointFilterT = <a class="code" href="classopenvdb_1_1v12__1_1_1points_1_1NullFilter.html">points::NullFilter</a>,</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;          <span class="keyword">typename</span> InterrupterT = <a class="code" href="structopenvdb_1_1v12__1_1_1util_1_1NullInterrupter.html">util::NullInterrupter</a>&gt;</div><div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html">  494</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html">RasterizePoints</a></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;{</div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a84efbfa40431cfb7bcaa161b82a6ccf3">  496</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager.html">LeafManagerT</a> = <a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager.html">tree::LeafManager&lt;TopologyT&gt;</a>;</div><div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a983a254271e54d50930b9bb985845f85">  497</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a983a254271e54d50930b9bb985845f85">LeafNodeT</a> = <span class="keyword">typename</span> <a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager.html#aff34a091cd54db8860dbea7885fe7888">LeafManagerT::LeafNodeType</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a6fd65de7937c8162f93b16f757ded7f0">  499</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a6fd65de7937c8162f93b16f757ded7f0">RasterizePointSignature</a>  = void(<span class="keyword">const</span> Coord&amp;, <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a>, <span class="keyword">const</span> CoordBBox&amp;);</div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a46df8fce29633ffdc605e582e03fec46">  500</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a46df8fce29633ffdc605e582e03fec46">RasterizePointsSignature</a> = void(<span class="keyword">const</span> Coord&amp;, <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a>, <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a>, <span class="keyword">const</span> CoordBBox&amp;);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a785cb9180680cc5b0dcb6efac36579c7">  502</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a> DIM = TopologyT::LeafNodeType::DIM;</div><div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a8f7e6c978ac86dce8b6f3cc0e2643d84">  503</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#ac524bdfeb5d781872485d9321c881920">Int32</a> DIM32 = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceopenvdb_1_1v12__1.html#ac524bdfeb5d781872485d9321c881920">Int32</a><span class="keyword">&gt;</span>(DIM);</div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#acbde5e0147479268c2f56863eb0c2775">  504</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a> LOG2DIM = TopologyT::LeafNodeType::LOG2DIM;</div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#ab635955041d41d102f7afb6cf404b484">  505</a></span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> UseRasterizePoints =</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="code" href="openvdb_2Types_8h.html#ade599abc2115711b97754c69ef4d70ad">OPENVDB_HAS_INVOKABLE_MEMBER_FUNCTION</a>(TransferT, rasterizePoints, Coord, <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a>, <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a>, CoordBBox);</div><div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a53c7dbce937be8f55f442a3305947833">  507</a></span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> UseRasterizePoint =</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <a class="code" href="openvdb_2Types_8h.html#ade599abc2115711b97754c69ef4d70ad">OPENVDB_HAS_INVOKABLE_MEMBER_FUNCTION</a>(TransferT, rasterizePoint, Coord, <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a>, CoordBBox);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#ae14036760691d0bae2431efbb6faf77b">  510</a></span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#ae14036760691d0bae2431efbb6faf77b">RasterizePoints</a>(<span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1Tree.html">points::PointDataTree</a>&amp; tree,</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    <span class="keyword">const</span> TransferT&amp; transfer,</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    <span class="keyword">const</span> CoordBBox&amp; pointBounds,</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                    <span class="keyword">const</span> PointFilterT&amp; filter = PointFilterT(),</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                    InterrupterT* interrupter = <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        : mPointAccessor(tree)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        , mTransfer(transfer)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        , mPointBounds(pointBounds)</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        , mFilter(filter)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        , mInterrupter(interrupter) {}</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#ab6f3f1b078713d66eeef4d5e0e003f9c">  521</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#ab6f3f1b078713d66eeef4d5e0e003f9c">operator()</a>(<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a983a254271e54d50930b9bb985845f85">LeafNodeT</a>&amp; leaf, <span class="keyword">const</span> <span class="keywordtype">size_t</span> idx)<span class="keyword"> const</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">if</span> (this-&gt;interrupted()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="keyword">const</span> Coord&amp; origin = leaf.origin();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keyword">auto</span>&amp; <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a1bd78480ba15df5d1f552951c8ae0bcc">mask</a> = leaf.getValueMask();</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        CoordBBox bounds;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordtype">bool</span> state;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a1bd78480ba15df5d1f552951c8ae0bcc">mask</a>.isConstant(state)) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">if</span> (!state) <span class="keywordflow">return</span>; <span class="comment">// all inactive</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">else</span> bounds = leaf.getNodeBoundingBox();</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="comment">// Use evalActiveBoundingBox over getNodeBoundingBox()</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="comment">// to get a better approximation</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            leaf.evalActiveBoundingBox(bounds);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <a class="code" href="Assert_8h.html#a9b706542bb9f44d82cd273d74e722c35">OPENVDB_ASSERT</a>(!bounds.empty());</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        mTransfer.initialize(origin, idx, bounds);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        CoordBBox search = bounds;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1_1_1math.html#adf6e1d7d066bb09da957cc89f2b3ceb2">Vec3i</a> range(mTransfer.range(origin, idx));</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        search.min() -= Coord(range);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        search.max() += Coord(range);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        this-&gt;transform&lt;&gt;(search);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        search.intersect(mPointBounds);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">// start the iteration from a leaf origin</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keyword">const</span> Coord <a class="code" href="namespaceopenvdb_1_1v12__1_1_1tools_1_1composite.html#aa7b790ad053ef5f709fc8702e7633bb2">min</a> = (search.min() &amp; ~(DIM-1));</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keyword">const</span> Coord&amp; <a class="code" href="namespaceopenvdb_1_1v12__1_1_1tools_1_1composite.html#a68b92f45fc81cfd68eee1b92eeb18a2d">max</a> = search.max();</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">        /// @todo  remove this - with the introduction of rasterizePoints we no</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">        ///   longer accept a filter at this level (it&#39;s expected to be handled)</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">        ///   in the transfer scheme</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"></span>        PointFilterT localFilter(mFilter);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="comment">// loop over overlapping leaf nodes</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        Coord leafOrigin;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keywordflow">for</span> (leafOrigin[0] = min[0]; leafOrigin[0] &lt;= max[0]; leafOrigin[0]+=DIM32) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">for</span> (leafOrigin[1] = min[1]; leafOrigin[1] &lt;= max[1]; leafOrigin[1]+=DIM32) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <span class="keywordflow">for</span> (leafOrigin[2] = min[2]; leafOrigin[2] &lt;= max[2]; leafOrigin[2]+=DIM32) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    <span class="comment">// if no overlap, continue</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                    CoordBBox pbox = CoordBBox::createCube(leafOrigin, DIM32);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                    pbox.intersect(search);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    <span class="keywordflow">if</span> (pbox.empty()) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                    <span class="comment">// if no points, continue</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                    <span class="keyword">const</span> <span class="keyword">auto</span>* pointLeaf = mPointAccessor.probeConstLeaf(leafOrigin);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                    <span class="keywordflow">if</span> (!pointLeaf) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    <span class="keywordflow">if</span> (!mTransfer.startPointLeaf(*pointLeaf)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    localFilter.reset(*pointLeaf);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    <span class="keywordflow">if</span> (this-&gt;interrupted()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    <span class="comment">// It&#39;s actually faster to go through the ValueIter API than</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    <span class="comment">// the leaf API as the value iterators cache the value buffer</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                    <span class="comment">// ptrs (the leaf buffer API has to check the ptr on every</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    <span class="comment">// access).</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                    <span class="comment">// @todo  Once we&#39;ve improved the leaf buffer impl this</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                    <span class="comment">//   should be removed</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                    <span class="keyword">const</span> <span class="keyword">auto</span> valiter = pointLeaf-&gt;cbeginValueAll();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                    <span class="comment">// loop over point voxels which contribute to this leaf</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    <span class="keyword">const</span> Coord&amp; pmin(pbox.min());</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    <span class="keyword">const</span> Coord&amp; pmax(pbox.max());</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <span class="keywordflow">for</span> (Coord ijk = pmin; ijk.x() &lt;= pmax.x(); ++ijk.x()) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                        <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a> i = ((ijk.x() &amp; (DIM-1u)) &lt;&lt; 2*LOG2DIM); <span class="comment">// unsigned bit shift mult</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                        <span class="keywordflow">for</span> (ijk.y() = pmin.y(); ijk.y() &lt;= pmax.y(); ++ijk.y()) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                            <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a> ij = i + ((ijk.y() &amp; (DIM-1u)) &lt;&lt; LOG2DIM);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                            <span class="keywordflow">for</span> (ijk.z() = pmin.z(); ijk.z() &lt;= pmax.z(); ++ijk.z()) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                <span class="comment">// voxel should be in this points leaf</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                                <a class="code" href="Assert_8h.html#a9b706542bb9f44d82cd273d74e722c35">OPENVDB_ASSERT</a>((ijk &amp; ~(DIM-1u)) == leafOrigin);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                                <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a> index = ij + <span class="comment">/*k*/</span>(ijk.z() &amp; (DIM-1u));</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                <span class="keyword">const</span> <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a> end = valiter.getItem(index);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a> <span class="keywordtype">id</span> = (index == 0) ? 0 : <a class="code" href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">Index</a>(valiter.getItem(index - 1));</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                <span class="keywordflow">if</span> (this-&gt;interrupted()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                                <span class="keywordflow">if</span> constexpr (UseRasterizePoints)</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                                {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                    <span class="comment">// No filter support here, must be on the transfer scheme</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                    mTransfer.rasterizePoints(ijk, <span class="keywordtype">id</span>, end, bounds);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                                <span class="keywordflow">else</span> <span class="keywordflow">if</span> constexpr (UseRasterizePoint)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                                {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                                    <span class="keywordflow">for</span> (; <span class="keywordtype">id</span> &lt; end; ++id) {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                                        <span class="keywordflow">if</span> (!localFilter.valid(&amp;<span class="keywordtype">id</span>)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                                        mTransfer.rasterizePoint(ijk, <span class="keywordtype">id</span>, bounds);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                                    } <span class="comment">//point idx</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                                }</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                                <span class="keywordflow">else</span> {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                                    static_assert(UseRasterizePoints || UseRasterizePoint,</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                                        <span class="stringliteral">&quot;Invalid transfer scheme in openvdb::tools::rasterize. Must correctly Implement rasterizePoints or rasterizePoint.&quot;</span>);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                            }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                        }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    } <span class="comment">// outer point voxel</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    <span class="keywordflow">if</span> (!mTransfer.endPointLeaf(*pointLeaf)) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                        <span class="comment">// rescurse if necessary</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                        <span class="keywordflow">if</span> (!mTransfer.finalize(origin, idx)) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                            this-&gt;operator()(leaf, idx);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                        }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        } <span class="comment">// outer leaf node</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">// rescurse if necessary</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">if</span> (!mTransfer.finalize(origin, idx)) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            this-&gt;operator()(leaf, idx);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a344bc988a2b07b9f463f4ef2b9db7043">  639</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a344bc988a2b07b9f463f4ef2b9db7043">operator()</a>(<span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager_1_1LeafRange.html">LeafManagerT::LeafRange</a>&amp; range)<span class="keyword"> const</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> leaf = range.<a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager_1_1LeafRange.html#a83c9fd7252c97810a9aaf392e10a00d7">begin</a>(); leaf; ++leaf) {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            (*this)(*leaf, leaf.pos());</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> EnableT = TransferT&gt;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keyword">typename</span> std::enable_if&lt;std::is_base_of&lt;TransformTransfer, EnableT&gt;::value&gt;::type</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    transform(CoordBBox&amp; bounds)<span class="keyword"> const</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keyword">const</span> <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html">TransformTransfer</a>* transform =</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keyword">static_cast&lt;</span><a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html">TransformTransfer</a>*<span class="keyword">&gt;</span>(&amp;mTransfer);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1math_1_1BBox.html">BBoxd</a> bbox(bounds.min().asVec3d(), bounds.max().asVec3d());</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        bounds = transform-&gt;<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#a86590a233121178127b187016c1408b9">sourceTransform</a>().<a class="code" href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html#a63423207db89c360676357577e25175d">worldToIndexCellCentered</a>(</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            transform-&gt;<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#a067c02b91ad0939bf44151e40d47d9ec">targetTransform</a>().<a class="code" href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html#a9b0e6d022b2571d4b0551704406ac4ba">indexToWorld</a>(bbox));</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> EnableT = TransferT&gt;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keyword">typename</span> std::enable_if&lt;!std::is_base_of&lt;TransformTransfer, EnableT&gt;::value&gt;::type</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    transform(CoordBBox&amp;)<span class="keyword"> const </span>{}</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> EnableT = TransferT&gt;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keyword">typename</span> std::enable_if&lt;std::is_base_of&lt;InterruptableTransfer, EnableT&gt;::value, <span class="keywordtype">bool</span>&gt;::type</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    interrupted()<span class="keyword"> const</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordflow">return</span> mTransfer.interrupted();</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> EnableT = TransferT&gt;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    constexpr <span class="keyword">typename</span> std::enable_if&lt;!std::is_base_of&lt;InterruptableTransfer, EnableT&gt;::value, <span class="keywordtype">bool</span>&gt;::type</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    interrupted()<span class="keyword"> const</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="comment">// @todo  This method should just return false once the old rasterize signature is deprecated</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">if</span> constexpr (std::is_same&lt;InterrupterT, util::NullInterrupter&gt;::value) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="namespaceopenvdb_1_1v12__1_1_1util.html#a7783bf79cc10a02b50848680938e1a74">util::wasInterrupted</a>(mInterrupter)) {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                thread::cancelGroupExecution();</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keyword">const</span> <a class="code" href="classopenvdb_1_1v12__1_1_1Grid.html#aa4217fab2ad31af1fac33cf4610c941c">PointDataGrid::ConstAccessor</a> mPointAccessor;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keyword">mutable</span> TransferT mTransfer;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keyword">const</span> CoordBBox&amp; mPointBounds;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keyword">const</span> PointFilterT&amp; mFilter; <span class="comment">// @todo remove</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    InterrupterT* mInterrupter; <span class="comment">// @todo remove</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;};</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;} <span class="comment">// namespace transfer_internal</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">///////////////////////////////////////////////////</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">///////////////////////////////////////////////////</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Po<span class="keywordtype">int</span>DataTreeOrGr<span class="keywordtype">id</span>T, <span class="keyword">typename</span> TransferT&gt;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="namespaceopenvdb_1_1v12__1_1_1points.html#ad9cf203d8735a1fe1174de1810104833">  700</a></span>&#160;<a class="code" href="namespaceopenvdb_1_1v12__1_1_1points.html#ad9cf203d8735a1fe1174de1810104833">rasterize</a>(<span class="keyword">const</span> PointDataTreeOrGridT&amp; points, TransferT&amp; transfer)</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;{</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keyword">using</span> PointTreeT = <span class="keyword">typename</span> <a class="code" href="structopenvdb_1_1v12__1_1_1TreeAdapter.html#ae95edb807b8017b7d0cfd3e46360fb0b">TreeAdapter&lt;PointDataTreeOrGridT&gt;::TreeType</a>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    static_assert(std::is_base_of&lt;TreeBase, PointTreeT&gt;::value,</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="stringliteral">&quot;Provided points to rasterize is not a derived TreeBase type.&quot;</span>);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; tree = <a class="code" href="structopenvdb_1_1v12__1_1_1TreeAdapter.html#a72c9f9ebcbed8e943b8bb0f13ab1d0ee">TreeAdapter&lt;PointDataTreeOrGridT&gt;::tree</a>(points);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keyword">auto</span>&amp; <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a7dcbdca77477d480bb81611687d0353d">topology</a> = transfer.topology();</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keyword">using</span> TreeT = <span class="keyword">typename</span> std::decay&lt;decltype(topology)&gt;::type;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">// Compute max search bounds</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    CoordBBox bounds;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    tree.evalLeafBoundingBox(bounds);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager.html">tree::LeafManager&lt;TreeT&gt;</a> manager(<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a7dcbdca77477d480bb81611687d0353d">topology</a>);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html">transfer_internal::RasterizePoints&lt;TransferT, TreeT&gt;</a> raster(tree, transfer, bounds);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    manager.<a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager.html#a449355fc31ee41387283def6d663f807">foreach</a>(raster);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;}</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">/// @brief Perform potentially complex rasterization from a user defined</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">///  transfer scheme.</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">/// @details The method works by looping over a single Tree topology, looking</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">///   up point data at a position relative to that topology and passing that</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">///   data to a transfer scheme TransferT.</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">/// @note  Each thread receives a copy of the transfer scheme object.</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">/// @param points       the point data grid to rasterize</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">/// @param transfer     the transfer scheme</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">/// @param filter       optional point filter</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">/// @param interrupter  optional interrupter</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> PointDataTreeOrGridT,</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keyword">typename</span> TransferT,</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keyword">typename</span> FilterT,</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keyword">typename</span> InterrupterT = <a class="code" href="structopenvdb_1_1v12__1_1_1util_1_1NullInterrupter.html">util::NullInterrupter</a>&gt;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<a class="code" href="Platform_8h.html#ad1f8203a6a066b0312fd16e529bddd22">OPENVDB_DEPRECATED_MESSAGE</a>(<span class="stringliteral">&quot;openvdb::tools::rasterize no longer takes a filter or &quot;</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="stringliteral">&quot;interrupter. Implement this on your transfer scheme (see PointTransfer.h for an example).&quot;</span>)</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00736"></a><span class="lineno"><a class="line" href="namespaceopenvdb_1_1v12__1_1_1points.html#a8be61e4e3201107ade807615f164d926">  736</a></span>&#160;<a class="code" href="namespaceopenvdb_1_1v12__1_1_1points.html#ad9cf203d8735a1fe1174de1810104833">rasterize</a>(<span class="keyword">const</span> PointDataTreeOrGridT&amp; points,</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;          TransferT&amp; transfer,</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          <span class="keyword">const</span> FilterT&amp; filter,</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;          InterrupterT* interrupter = <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;{</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keyword">using</span> PointTreeT = <span class="keyword">typename</span> <a class="code" href="structopenvdb_1_1v12__1_1_1TreeAdapter.html#ae95edb807b8017b7d0cfd3e46360fb0b">TreeAdapter&lt;PointDataTreeOrGridT&gt;::TreeType</a>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    static_assert(std::is_base_of&lt;TreeBase, PointTreeT&gt;::value,</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="stringliteral">&quot;Provided points to rasterize is not a derived TreeBase type.&quot;</span>);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; tree = <a class="code" href="structopenvdb_1_1v12__1_1_1TreeAdapter.html#a72c9f9ebcbed8e943b8bb0f13ab1d0ee">TreeAdapter&lt;PointDataTreeOrGridT&gt;::tree</a>(points);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keyword">auto</span>&amp; <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a7dcbdca77477d480bb81611687d0353d">topology</a> = transfer.topology();</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keyword">using</span> TreeT = <span class="keyword">typename</span> std::decay&lt;decltype(topology)&gt;::type;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">// Compute max search bounds</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    CoordBBox bounds;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    tree.evalLeafBoundingBox(bounds);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager.html">tree::LeafManager&lt;TreeT&gt;</a> manager(<a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a7dcbdca77477d480bb81611687d0353d">topology</a>);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <a class="code" href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html">transfer_internal::RasterizePoints&lt;TransferT, TreeT, FilterT, InterrupterT&gt;</a></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        raster(tree, transfer, bounds, filter, interrupter);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    manager.<a class="code" href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager.html#a449355fc31ee41387283def6d663f807">foreach</a>(raster);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;}</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;} <span class="comment">// namespace points</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;} <span class="comment">// namespace OPENVDB_VERSION_NAME</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;} <span class="comment">// namespace openvdb</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="preprocessor">#endif //OPENVEB_POINTS_TRANSFER_HAS_BEEN_INCLUDED</span></div><div class="ttc" id="namespaceopenvdb_1_1v12__1_1_1points_html_a8be61e4e3201107ade807615f164d926"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1_1_1points.html#a8be61e4e3201107ade807615f164d926">openvdb::v12_1::points::rasterize</a></div><div class="ttdeci">void rasterize(const PointDataTreeOrGridT &amp;points, TransferT &amp;transfer, const FilterT &amp;filter, InterrupterT *interrupter=nullptr)</div><div class="ttdoc">Perform potentially complex rasterization from a user defined transfer scheme. </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:736</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1math_1_1BBox_html"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1math_1_1BBox.html">openvdb::v12_1::math::BBox&lt; Vec3d &gt;</a></div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_html"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html">openvdb::v12_1::points::FilteredTransfer</a></div><div class="ttdoc">FilteredTransfer module, when derived from allows for schemes to apply point filtering. Note that this module handles the thread safe intialization and storage of the filter, but derived schemes must call FilteredTransfer::filter() per point id and handle the result. </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:249</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a530a65c114efe7226d47c1361fb52ce2"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a530a65c114efe7226d47c1361fb52ce2">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::mask</a></div><div class="ttdeci">const NodeMaskT * mask() const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:399</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html">openvdb::v12_1::points::VolumeTransfer</a></div><div class="ttdoc">The VolumeTransfer module provides methods to automatically setup and access destination buffers for ...</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:296</div></div>
<div class="ttc" id="namespaceopenvdb_1_1v12__1_html_ac524bdfeb5d781872485d9321c881920"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1.html#ac524bdfeb5d781872485d9321c881920">openvdb::v12_1::Int32</a></div><div class="ttdeci">int32_t Int32</div><div class="ttdef"><b>Definition:</b> Types.h:56</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager_1_1LeafRange_html_a83c9fd7252c97810a9aaf392e10a00d7"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager_1_1LeafRange.html#a83c9fd7252c97810a9aaf392e10a00d7">openvdb::v12_1::tree::LeafManager::LeafRange::begin</a></div><div class="ttdeci">Iterator begin() const </div><div class="ttdef"><b>Definition:</b> LeafManager.h:156</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager_1_1LeafRange_html"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager_1_1LeafRange.html">openvdb::v12_1::tree::LeafManager::LeafRange</a></div><div class="ttdef"><b>Definition:</b> LeafManager.h:102</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer_html_a86590a233121178127b187016c1408b9"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#a86590a233121178127b187016c1408b9">openvdb::v12_1::points::TransformTransfer::sourceTransform</a></div><div class="ttdeci">const math::Transform &amp; sourceTransform() const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:220</div></div>
<div class="ttc" id="NullInterrupter_8h_html"><div class="ttname"><a href="NullInterrupter_8h.html">NullInterrupter.h</a></div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_a809d23cf44d5792962db4863b2bd0d97"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a809d23cf44d5792962db4863b2bd0d97">openvdb::v12_1::points::VolumeTransfer::mask</a></div><div class="ttdeci">const NodeMaskT * mask(const size_t idx) const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:342</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_a5554d9d0502d74dabfae8f2723c2021e"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5554d9d0502d74dabfae8f2723c2021e">openvdb::v12_1::points::VolumeTransfer&lt; PointDataTreeT &gt;::TreeType</a></div><div class="ttdeci">typename std::tuple_element&lt; Idx, std::tuple&lt; TreeTypes... &gt;&gt;::type TreeType</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:301</div></div>
<div class="ttc" id="namespaceopenvdb_1_1v12__1_html_a49c172664d07773fe108364eafe82942"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1.html#a49c172664d07773fe108364eafe82942">openvdb::v12_1::initialize</a></div><div class="ttdeci">OPENVDB_IMPORT void initialize()</div><div class="ttdoc">Global registration of native Grid, Transform, Metadata and Point attribute types. Also initializes blosc (if enabled). </div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_ab2329d26d1c51174902696e865eb5455"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ab2329d26d1c51174902696e865eb5455">openvdb::v12_1::points::VolumeTransfer::foreach</a></div><div class="ttdeci">void foreach(const FunctorT &amp;functor)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:478</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_abb5608ad7d8eff60f182dc069a0a965d"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#abb5608ad7d8eff60f182dc069a0a965d">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::NodeMaskT</a></div><div class="ttdeci">typename TreeType::LeafNodeType::NodeMaskType NodeMaskT</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:360</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a6126f557b945501180eeb60b9cb9c3fd"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a6126f557b945501180eeb60b9cb9c3fd">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::VolumeTransfer</a></div><div class="ttdeci">VolumeTransfer(TreeType &amp;tree)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:373</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_ae8e189e13632f5fba82d3b9987fac27b"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ae8e189e13632f5fba82d3b9987fac27b">openvdb::v12_1::points::VolumeTransfer&lt; PointDataTreeT &gt;::ValueType</a></div><div class="ttdeci">typename TreeType&lt; Idx &gt;::ValueType ValueType</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:302</div></div>
<div class="ttc" id="openvdb_8h_html"><div class="ttname"><a href="openvdb_8h.html">openvdb.h</a></div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a724e5d389cd88faee8c42c38681891db"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a724e5d389cd88faee8c42c38681891db">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::buffer</a></div><div class="ttdeci">ValueType * buffer()</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:402</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_aa30b9f46732645b6a93720ee42ac6ff3"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#aa30b9f46732645b6a93720ee42ac6ff3">openvdb::v12_1::points::VolumeTransfer::buffer</a></div><div class="ttdeci">const ValueType&lt; Idx &gt; * buffer() const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:331</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1tree_1_1Tree_html_ad69afaa4f94a67ce2f7d0b18b339291e"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1tree_1_1Tree.html#ad69afaa4f94a67ce2f7d0b18b339291e">openvdb::v12_1::tree::Tree::LeafNodeType</a></div><div class="ttdeci">typename RootNodeType::LeafNodeType LeafNodeType</div><div class="ttdef"><b>Definition:</b> Tree.h:203</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4_html_ae606d39748c3a43b44681ed988f64476"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#ae606d39748c3a43b44681ed988f64476">openvdb::v12_1::points::FilteredTransfer&lt; NullFilter &gt;::startPointLeaf</a></div><div class="ttdeci">bool startPointLeaf(const PointDataTree::LeafNodeType &amp;)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:287</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer_html_af706ba490b42b827fce576b17a4051d8"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#af706ba490b42b827fce576b17a4051d8">openvdb::v12_1::points::TransformTransfer::transformSourceToTarget</a></div><div class="ttdeci">auto transformSourceToTarget(const T &amp;value) const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:207</div></div>
<div class="ttc" id="namespaceopenvdb_1_1v12__1_1_1points_1_1transfer__internal_html_a980ff9f98dcdc2c55a5085cfa9b7e342"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1_1_1points_1_1transfer__internal.html#a980ff9f98dcdc2c55a5085cfa9b7e342">openvdb::v12_1::points::transfer_internal::foreach</a></div><div class="ttdeci">void foreach(T &amp;&amp;t, const F &amp;func, std::integer_sequence&lt; size_t, Is... &gt;)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:416</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints_html_a344bc988a2b07b9f463f4ef2b9db7043"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a344bc988a2b07b9f463f4ef2b9db7043">openvdb::v12_1::points::transfer_internal::RasterizePoints::operator()</a></div><div class="ttdeci">void operator()(const typename LeafManagerT::LeafRange &amp;range) const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:639</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_html_adf51674704b039fbe64fb9b252677498"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#adf51674704b039fbe64fb9b252677498">openvdb::v12_1::points::FilteredTransfer::FilteredTransfer</a></div><div class="ttdeci">FilteredTransfer(const FilterT &amp;filter)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:251</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a6d9338bb9837d62e9ba37fa1974e97ff"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a6d9338bb9837d62e9ba37fa1974e97ff">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::VolumeTransfer</a></div><div class="ttdeci">VolumeTransfer(TreeType *tree)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:366</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer_html_ad869a90cb2dfe10fdf25323236615b02"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer.html#ad869a90cb2dfe10fdf25323236615b02">openvdb::v12_1::points::InterruptableTransfer::interrupted</a></div><div class="ttdeci">bool interrupted() const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:234</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_af814219322c18727688108c35ae92af1"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#af814219322c18727688108c35ae92af1">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::buffer</a></div><div class="ttdeci">const ValueType * buffer() const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:397</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints_html_a983a254271e54d50930b9bb985845f85"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a983a254271e54d50930b9bb985845f85">openvdb::v12_1::points::transfer_internal::RasterizePoints::LeafNodeT</a></div><div class="ttdeci">typename LeafManagerT::LeafNodeType LeafNodeT</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:497</div></div>
<div class="ttc" id="namespaceopenvdb_1_1v12__1_html_a1a68fb76e3d6897fa878760b6bcbda7a"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1.html#a1a68fb76e3d6897fa878760b6bcbda7a">openvdb::v12_1::Index</a></div><div class="ttdeci">Index32 Index</div><div class="ttdef"><b>Definition:</b> Types.h:54</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_1_1TypeResolver_html"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_1_1TypeResolver.html">openvdb::v12_1::points::VolumeTransfer::TypeResolver</a></div><div class="ttdef"><b>Definition:</b> PointTransfer.h:303</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a4b5fa0a9da86be25ae0c72ba6c46ea83"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a4b5fa0a9da86be25ae0c72ba6c46ea83">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::mask</a></div><div class="ttdeci">NodeMaskT * mask()</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:398</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_a30509872033330fc12cd8c5398d5d5c7"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a30509872033330fc12cd8c5398d5d5c7">openvdb::v12_1::points::VolumeTransfer::initialize</a></div><div class="ttdeci">void initialize(const Coord &amp;origin, const size_t, const CoordBBox &amp;)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:460</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a2ef3b0838debcb84adb5d646375facd9"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a2ef3b0838debcb84adb5d646375facd9">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::buffer</a></div><div class="ttdeci">ValueType * buffer()</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:396</div></div>
<div class="ttc" id="Transform_8h_html"><div class="ttname"><a href="Transform_8h.html">Transform.h</a></div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_af07a8c75c48174ee79d06fbfe43dd821"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#af07a8c75c48174ee79d06fbfe43dd821">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::TreeType</a></div><div class="ttdeci">TreeT TreeType</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:358</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer_html_af0adf292877ed1cd7955bd4c752dc12e"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#af0adf292877ed1cd7955bd4c752dc12e">openvdb::v12_1::points::TransformTransfer::TransformTransfer</a></div><div class="ttdeci">TransformTransfer(const math::Transform &amp;st, const math::Transform &amp;tt)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:201</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer_html_af6aa11d3ec06afc2287e01845944a6ad"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#af6aa11d3ec06afc2287e01845944a6ad">openvdb::v12_1::points::TransformTransfer::transformTargetToSource</a></div><div class="ttdeci">auto transformTargetToSource(const T &amp;value) const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:214</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1points_1_1NullFilter_html"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1points_1_1NullFilter.html">openvdb::v12_1::points::NullFilter</a></div><div class="ttdoc">A no-op filter that can be used when iterating over all indices. </div><div class="ttdef"><b>Definition:</b> IndexIterator.h:51</div></div>
<div class="ttc" id="namespaceopenvdb_1_1v12__1_1_1math_html_adf6e1d7d066bb09da957cc89f2b3ceb2"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1_1_1math.html#adf6e1d7d066bb09da957cc89f2b3ceb2">openvdb::v12_1::math::Vec3i</a></div><div class="ttdeci">Vec3&lt; int32_t &gt; Vec3i</div><div class="ttdef"><b>Definition:</b> Vec3.h:662</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1util_1_1NullInterrupter_html"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1util_1_1NullInterrupter.html">openvdb::v12_1::util::NullInterrupter</a></div><div class="ttdoc">Base class for interrupters. </div><div class="ttdef"><b>Definition:</b> NullInterrupter.h:25</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a278c579e38e1c22703f95efa693b9c2f"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a278c579e38e1c22703f95efa693b9c2f">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::ValueType</a></div><div class="ttdeci">typename TreeType::ValueType ValueType</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:359</div></div>
<div class="ttc" id="namespaceopenvdb_1_1v12__1_html_a3a90960207f67b6eef0b2bd45c820e94"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1.html#a3a90960207f67b6eef0b2bd45c820e94">openvdb::v12_1::TreeTypes</a></div><div class="ttdeci">GridTypes::Transform&lt; internal::ToTreeType &gt; TreeTypes</div><div class="ttdef"><b>Definition:</b> openvdb.h:123</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a0b011faf0559d1f7b84f3651c0ec187e"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a0b011faf0559d1f7b84f3651c0ec187e">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::mask</a></div><div class="ttdeci">const NodeMaskT * mask() const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:405</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer_html_a067c02b91ad0939bf44151e40d47d9ec"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html#a067c02b91ad0939bf44151e40d47d9ec">openvdb::v12_1::points::TransformTransfer::targetTransform</a></div><div class="ttdeci">const math::Transform &amp; targetTransform() const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:221</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer_html_ad1e9ba5eee4891f7c26373761057da33"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer.html#ad1e9ba5eee4891f7c26373761057da33">openvdb::v12_1::points::InterruptableTransfer::InterruptableTransfer</a></div><div class="ttdeci">InterruptableTransfer(util::NullInterrupter *const interrupt)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:232</div></div>
<div class="ttc" id="openvdb_2Types_8h_html"><div class="ttname"><a href="openvdb_2Types_8h.html">Types.h</a></div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints_html_a6fd65de7937c8162f93b16f757ded7f0"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a6fd65de7937c8162f93b16f757ded7f0">openvdb::v12_1::points::transfer_internal::RasterizePoints::RasterizePointSignature</a></div><div class="ttdeci">void(const Coord &amp;, const Index, const CoordBBox &amp;) RasterizePointSignature</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:499</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager_html"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager.html">openvdb::v12_1::tree::LeafManager</a></div><div class="ttdoc">This class manages a linear array of pointers to a given tree&amp;#39;s leaf nodes, as well as optional auxil...</div><div class="ttdef"><b>Definition:</b> LeafManager.h:85</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a753ca45880d45558885a1b516045c19b"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a753ca45880d45558885a1b516045c19b">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::VolumeTransfer</a></div><div class="ttdeci">VolumeTransfer(const VolumeTransfer &amp;other)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:376</div></div>
<div class="ttc" id="Assert_8h_html_a9b706542bb9f44d82cd273d74e722c35"><div class="ttname"><a href="Assert_8h.html#a9b706542bb9f44d82cd273d74e722c35">OPENVDB_ASSERT</a></div><div class="ttdeci">#define OPENVDB_ASSERT(X)</div><div class="ttdef"><b>Definition:</b> Assert.h:41</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1math_1_1Transform_html_a63423207db89c360676357577e25175d"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html#a63423207db89c360676357577e25175d">openvdb::v12_1::math::Transform::worldToIndexCellCentered</a></div><div class="ttdeci">Coord worldToIndexCellCentered(const Vec3d &amp;xyz) const </div><div class="ttdoc">Apply this transformation to the given coordinates. </div><div class="ttdef"><b>Definition:</b> Transform.h:111</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a658a35c7502501b5bf16deee60bf2748"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a658a35c7502501b5bf16deee60bf2748">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::buffer</a></div><div class="ttdeci">const ValueType * buffer() const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:403</div></div>
<div class="ttc" id="namespaceopenvdb_1_1v12__1_1_1tools_1_1composite_html_aa7b790ad053ef5f709fc8702e7633bb2"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1_1_1tools_1_1composite.html#aa7b790ad053ef5f709fc8702e7633bb2">openvdb::v12_1::tools::composite::min</a></div><div class="ttdeci">const std::enable_if&lt;!VecTraits&lt; T &gt;::IsVec, T &gt;::type &amp; min(const T &amp;a, const T &amp;b)</div><div class="ttdef"><b>Definition:</b> Composite.h:106</div></div>
<div class="ttc" id="namespaceopenvdb_1_1v12__1_1_1points_html_ad9cf203d8735a1fe1174de1810104833"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1_1_1points.html#ad9cf203d8735a1fe1174de1810104833">openvdb::v12_1::points::rasterize</a></div><div class="ttdeci">void rasterize(const PointDataTreeOrGridT &amp;points, TransferT &amp;transfer)</div><div class="ttdoc">Perform potentially complex rasterization from a user defined transfer scheme. See below comments for...</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:700</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_html_ae59d6c37a06a9f925bc8c6fb515abe12"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#ae59d6c37a06a9f925bc8c6fb515abe12">openvdb::v12_1::points::FilteredTransfer::initialize</a></div><div class="ttdeci">void initialize(const Coord &amp;, const size_t, const CoordBBox &amp;)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:258</div></div>
<div class="ttc" id="openvdb_2Types_8h_html_a0981f208aa4bfa3f9ae163e794b29764"><div class="ttname"><a href="openvdb_2Types_8h.html#a0981f208aa4bfa3f9ae163e794b29764">OPENVDB_INIT_INVOKABLE_MEMBER_FUNCTION</a></div><div class="ttdeci">#define OPENVDB_INIT_INVOKABLE_MEMBER_FUNCTION(F)                        </div><div class="ttdoc">Macros to help determine whether or not a class has a particular member function. ...</div><div class="ttdef"><b>Definition:</b> Types.h:225</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_html_ab52947af43d708abb63e572657155eb4"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#ab52947af43d708abb63e572657155eb4">openvdb::v12_1::points::FilteredTransfer::startPointLeaf</a></div><div class="ttdeci">bool startPointLeaf(const PointDataTree::LeafNodeType &amp;leaf)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:263</div></div>
<div class="ttc" id="namespaceopenvdb_html"><div class="ttname"><a href="namespaceopenvdb.html">openvdb</a></div><div class="ttdef"><b>Definition:</b> Exceptions.h:13</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints_html_ae14036760691d0bae2431efbb6faf77b"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#ae14036760691d0bae2431efbb6faf77b">openvdb::v12_1::points::transfer_internal::RasterizePoints::RasterizePoints</a></div><div class="ttdeci">RasterizePoints(const points::PointDataTree &amp;tree, const TransferT &amp;transfer, const CoordBBox &amp;pointBounds, const PointFilterT &amp;filter=PointFilterT(), InterrupterT *interrupter=nullptr)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:510</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints_html"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html">openvdb::v12_1::points::transfer_internal::RasterizePoints</a></div><div class="ttdef"><b>Definition:</b> PointTransfer.h:494</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints_html_a46df8fce29633ffdc605e582e03fec46"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#a46df8fce29633ffdc605e582e03fec46">openvdb::v12_1::points::transfer_internal::RasterizePoints::RasterizePointsSignature</a></div><div class="ttdeci">void(const Coord &amp;, const Index, const Index, const CoordBBox &amp;) RasterizePointsSignature</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:500</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a30509872033330fc12cd8c5398d5d5c7"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a30509872033330fc12cd8c5398d5d5c7">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::initialize</a></div><div class="ttdeci">void initialize(const Coord &amp;origin, const size_t, const CoordBBox &amp;)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:383</div></div>
<div class="ttc" id="Assert_8h_html"><div class="ttname"><a href="Assert_8h.html">Assert.h</a></div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager_html_aff34a091cd54db8860dbea7885fe7888"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager.html#aff34a091cd54db8860dbea7885fe7888">openvdb::v12_1::tree::LeafManager::LeafNodeType</a></div><div class="ttdeci">LeafType LeafNodeType</div><div class="ttdef"><b>Definition:</b> LeafManager.h:93</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_a5ccd5c1b3b54229fc5c5786a32ab750f"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a5ccd5c1b3b54229fc5c5786a32ab750f">openvdb::v12_1::points::VolumeTransfer&lt; PointDataTreeT &gt;::NodeMaskT</a></div><div class="ttdeci">typename TreeType&lt; 0 &gt;::LeafNodeType::NodeMaskType NodeMaskT</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:304</div></div>
<div class="ttc" id="namespaceopenvdb_1_1v12__1_1_1util_html_a7783bf79cc10a02b50848680938e1a74"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1_1_1util.html#a7783bf79cc10a02b50848680938e1a74">openvdb::v12_1::util::wasInterrupted</a></div><div class="ttdeci">bool wasInterrupted(T *i, int percent=-1)</div><div class="ttdef"><b>Definition:</b> NullInterrupter.h:49</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_a753ca45880d45558885a1b516045c19b"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a753ca45880d45558885a1b516045c19b">openvdb::v12_1::points::VolumeTransfer::VolumeTransfer</a></div><div class="ttdeci">VolumeTransfer(const VolumeTransfer &amp;other)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:311</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager_html_a449355fc31ee41387283def6d663f807"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1tree_1_1LeafManager.html#a449355fc31ee41387283def6d663f807">openvdb::v12_1::tree::LeafManager::foreach</a></div><div class="ttdeci">void foreach(const LeafOp &amp;op, bool threaded=true, size_t grainSize=1)</div><div class="ttdoc">Threaded method that applies a user-supplied functor to each leaf node in the LeafManager. </div><div class="ttdef"><b>Definition:</b> LeafManager.h:484</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1math_1_1Transform_html_a9b0e6d022b2571d4b0551704406ac4ba"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html#a9b0e6d022b2571d4b0551704406ac4ba">openvdb::v12_1::math::Transform::indexToWorld</a></div><div class="ttdeci">Vec3d indexToWorld(const Vec3d &amp;xyz) const </div><div class="ttdoc">Apply this transformation to the given coordinates. </div><div class="ttdef"><b>Definition:</b> Transform.h:108</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4_html_aa30f1b4683e0efe851ccbeb29c496dc6"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#aa30f1b4683e0efe851ccbeb29c496dc6">openvdb::v12_1::points::FilteredTransfer&lt; NullFilter &gt;::FilteredTransfer</a></div><div class="ttdeci">FilteredTransfer(const NullFilter &amp;)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:285</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_aba98c8a8a68f4e5cbc93b0c631c0a30e"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#aba98c8a8a68f4e5cbc93b0c631c0a30e">openvdb::v12_1::points::VolumeTransfer::mask</a></div><div class="ttdeci">NodeMaskT * mask(const size_t idx)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:338</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_a1bd78480ba15df5d1f552951c8ae0bcc"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a1bd78480ba15df5d1f552951c8ae0bcc">openvdb::v12_1::points::VolumeTransfer::mask</a></div><div class="ttdeci">NodeMaskT * mask()</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:337</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_1_1TypeResolver_html_a6ce345a1fb6fd44d696f8c495c5f61cc"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_1_1TypeResolver.html#a6ce345a1fb6fd44d696f8c495c5f61cc">openvdb::v12_1::points::VolumeTransfer::TypeResolver::Type</a></div><div class="ttdeci">typename T::ValueType Type</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:303</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1TreeAdapter_html_a72c9f9ebcbed8e943b8bb0f13ab1d0ee"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1TreeAdapter.html#a72c9f9ebcbed8e943b8bb0f13ab1d0ee">openvdb::v12_1::TreeAdapter::tree</a></div><div class="ttdeci">static NonConstTreeType &amp; tree(NonConstTreeType &amp;t)</div><div class="ttdef"><b>Definition:</b> Grid.h:1076</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4_html_ad7438f62cdd4b110528049895f90f3cb"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#ad7438f62cdd4b110528049895f90f3cb">openvdb::v12_1::points::FilteredTransfer&lt; NullFilter &gt;::filter</a></div><div class="ttdeci">bool filter(const Index) const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:288</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer_html"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1InterruptableTransfer.html">openvdb::v12_1::points::InterruptableTransfer</a></div><div class="ttdoc">InterruptableTransfer module, when derived from allows for schemes to callback into a interrupter...</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:230</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_ad9a7f15a1ab3b1699d0a9f317ba6a078"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ad9a7f15a1ab3b1699d0a9f317ba6a078">openvdb::v12_1::points::VolumeTransfer::buffer</a></div><div class="ttdeci">ValueType&lt; Idx &gt; * buffer()</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:325</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1Grid_html_aa4217fab2ad31af1fac33cf4610c941c"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1Grid.html#aa4217fab2ad31af1fac33cf4610c941c">openvdb::v12_1::Grid::ConstAccessor</a></div><div class="ttdeci">typename _TreeType::ConstAccessor ConstAccessor</div><div class="ttdef"><b>Definition:</b> Grid.h:590</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer_html"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1TransformTransfer.html">openvdb::v12_1::points::TransformTransfer</a></div><div class="ttdoc">The TransformTransfer module should be used if the source transform of the input points and the targe...</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:199</div></div>
<div class="ttc" id="Grid_8h_html"><div class="ttname"><a href="Grid_8h.html">Grid.h</a></div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1math_1_1Transform_html"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1math_1_1Transform.html">openvdb::v12_1::math::Transform</a></div><div class="ttdef"><b>Definition:</b> Transform.h:39</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_ac5b3e1fabaab092f258c10b7288f0fff"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#ac5b3e1fabaab092f258c10b7288f0fff">openvdb::v12_1::points::VolumeTransfer::VolumeTransfer</a></div><div class="ttdeci">VolumeTransfer(TreeTypes &amp;...trees)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:308</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints_html_ab6f3f1b078713d66eeef4d5e0e003f9c"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1transfer__internal_1_1RasterizePoints.html#ab6f3f1b078713d66eeef4d5e0e003f9c">openvdb::v12_1::points::transfer_internal::RasterizePoints::operator()</a></div><div class="ttdeci">void operator()(LeafNodeT &amp;leaf, const size_t idx) const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:521</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_a7dcbdca77477d480bb81611687d0353d"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a7dcbdca77477d480bb81611687d0353d">openvdb::v12_1::points::VolumeTransfer::topology</a></div><div class="ttdeci">TreeType&lt; 0 &gt; &amp; topology()</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:320</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a387d41175f6b429a95a59ddea3b054e4"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a387d41175f6b429a95a59ddea3b054e4">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::topology</a></div><div class="ttdeci">TreeType &amp; topology()</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:381</div></div>
<div class="ttc" id="version_8h_8in_html_a00be3835cb8ad1ded8abd821fad20fc0"><div class="ttname"><a href="version_8h_8in.html#a00be3835cb8ad1ded8abd821fad20fc0">OPENVDB_VERSION_NAME</a></div><div class="ttdeci">#define OPENVDB_VERSION_NAME</div><div class="ttdoc">The version namespace name for this library version. </div><div class="ttdef"><b>Definition:</b> version.h.in:121</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_html_aee1f430ba223609067e082214ecfd95e"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#aee1f430ba223609067e082214ecfd95e">openvdb::v12_1::points::FilteredTransfer::FilteredTransfer</a></div><div class="ttdeci">FilteredTransfer(const FilteredTransfer &amp;other)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:254</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_html_abd4dc7352391b90cd4f3c7d643ba81b7"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer.html#abd4dc7352391b90cd4f3c7d643ba81b7">openvdb::v12_1::points::FilteredTransfer::filter</a></div><div class="ttdeci">bool filter(const Index id) const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:269</div></div>
<div class="ttc" id="openvdb_2Types_8h_html_ade599abc2115711b97754c69ef4d70ad"><div class="ttname"><a href="openvdb_2Types_8h.html#ade599abc2115711b97754c69ef4d70ad">OPENVDB_HAS_INVOKABLE_MEMBER_FUNCTION</a></div><div class="ttdeci">#define OPENVDB_HAS_INVOKABLE_MEMBER_FUNCTION(T, F,...)</div><div class="ttdef"><b>Definition:</b> Types.h:239</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_html_a0b011faf0559d1f7b84f3651c0ec187e"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer.html#a0b011faf0559d1f7b84f3651c0ec187e">openvdb::v12_1::points::VolumeTransfer::mask</a></div><div class="ttdeci">const NodeMaskT * mask() const </div><div class="ttdef"><b>Definition:</b> PointTransfer.h:341</div></div>
<div class="ttc" id="Platform_8h_html_ad1f8203a6a066b0312fd16e529bddd22"><div class="ttname"><a href="Platform_8h.html#ad1f8203a6a066b0312fd16e529bddd22">OPENVDB_DEPRECATED_MESSAGE</a></div><div class="ttdeci">#define OPENVDB_DEPRECATED_MESSAGE(msg)</div><div class="ttdef"><b>Definition:</b> Platform.h:171</div></div>
<div class="ttc" id="namespaceopenvdb_1_1v12__1_1_1tools_1_1composite_html_a68b92f45fc81cfd68eee1b92eeb18a2d"><div class="ttname"><a href="namespaceopenvdb_1_1v12__1_1_1tools_1_1composite.html#a68b92f45fc81cfd68eee1b92eeb18a2d">openvdb::v12_1::tools::composite::max</a></div><div class="ttdeci">const std::enable_if&lt;!VecTraits&lt; T &gt;::IsVec, T &gt;::type &amp; max(const T &amp;a, const T &amp;b)</div><div class="ttdef"><b>Definition:</b> Composite.h:110</div></div>
<div class="ttc" id="version_8h_8in_html_a2dde157791cd7558cdf886489256ba14"><div class="ttname"><a href="version_8h_8in.html#a2dde157791cd7558cdf886489256ba14">OPENVDB_USE_VERSION_NAMESPACE</a></div><div class="ttdeci">#define OPENVDB_USE_VERSION_NAMESPACE</div><div class="ttdef"><b>Definition:</b> version.h.in:218</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4_html_ae59d6c37a06a9f925bc8c6fb515abe12"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1FilteredTransfer_3_01NullFilter_01_4.html#ae59d6c37a06a9f925bc8c6fb515abe12">openvdb::v12_1::points::FilteredTransfer&lt; NullFilter &gt;::initialize</a></div><div class="ttdeci">void initialize(const Coord &amp;, const size_t, const CoordBBox &amp;)</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:286</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1TreeAdapter_html_ae95edb807b8017b7d0cfd3e46360fb0b"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1TreeAdapter.html#ae95edb807b8017b7d0cfd3e46360fb0b">openvdb::v12_1::TreeAdapter::TreeType</a></div><div class="ttdeci">_TreeType TreeType</div><div class="ttdef"><b>Definition:</b> Grid.h:1061</div></div>
<div class="ttc" id="classopenvdb_1_1v12__1_1_1tree_1_1Tree_html"><div class="ttname"><a href="classopenvdb_1_1v12__1_1_1tree_1_1Tree.html">openvdb::v12_1::tree::Tree</a></div><div class="ttdef"><b>Definition:</b> Tree.h:194</div></div>
<div class="ttc" id="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4_html_a1bd78480ba15df5d1f552951c8ae0bcc"><div class="ttname"><a href="structopenvdb_1_1v12__1_1_1points_1_1VolumeTransfer_3_01TreeT_01_4.html#a1bd78480ba15df5d1f552951c8ae0bcc">openvdb::v12_1::points::VolumeTransfer&lt; TreeT &gt;::mask</a></div><div class="ttdeci">NodeMaskT * mask()</div><div class="ttdef"><b>Definition:</b> PointTransfer.h:404</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
