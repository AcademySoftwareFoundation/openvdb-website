<!-- HTML header for doxygen 1.15.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenVDB: openvdb_ax/codegen/LegacyIR.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="openvdb.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="openvdb_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">OpenVDB<span id="projectnumber">&#160;13.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('LegacyIR_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">LegacyIR.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Legacy IR utilities for LLVM_VERSION_MAJOR &lt;= 15.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;llvm/Config/llvm-config.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ax_2openvdb__ax_2codegen_2Types_8h_source.html">Types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="openvdb__ax_2openvdb__ax_2codegen_2Utils_8h_source.html">Utils.h</a>&quot;</code><br />
<code>#include &lt;openvdb/version.h&gt;</code><br />
<code>#include &lt;<a class="el" href="Assert_8h_source.html">openvdb/util/Assert.h</a>&gt;</code><br />
<code>#include &lt;llvm/IR/IRBuilder.h&gt;</code><br />
</div>
<p><a href="LegacyIR_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-namespaces" class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:openvdb" id="r_openvdb"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb.html">openvdb</a></td></tr>
<tr class="memitem:openvdb_3A_3Av13_5F0" id="r_openvdb_3A_3Av13_5F0"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0.html">openvdb::v13_0</a></td></tr>
<tr class="memitem:openvdb_3A_3Av13_5F0_3A_3Aax" id="r_openvdb_3A_3Av13_5F0_3A_3Aax"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax.html">openvdb::v13_0::ax</a></td></tr>
<tr class="memitem:openvdb_3A_3Av13_5F0_3A_3Aax_3A_3Acodegen" id="r_openvdb_3A_3Av13_5F0_3A_3Aax_3A_3Acodegen"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html">openvdb::v13_0::ax::codegen</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6e071cb438c1c2f9e19984457c7867d5" id="r_a6e071cb438c1c2f9e19984457c7867d5"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#a6e071cb438c1c2f9e19984457c7867d5">ir_load</a> (llvm::IRBuilder&lt;&gt; &amp;B, llvm::Value *ptr, const char *<a class="el" href="namespaceopenvdb_1_1v13__0.html#a019c188253c90cf2d0b1d6bf710190f4">Name</a>=&quot;&quot;)</td></tr>
<tr class="memitem:a06d250b8a226d7bc716078d3244308d6" id="r_a06d250b8a226d7bc716078d3244308d6"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#a06d250b8a226d7bc716078d3244308d6">ir_gep</a> (llvm::IRBuilder&lt;&gt; &amp;B, llvm::Value *ptr, llvm::ArrayRef&lt; llvm::Value * &gt; IdxList, const char *<a class="el" href="namespaceopenvdb_1_1v13__0.html#a019c188253c90cf2d0b1d6bf710190f4">Name</a>=&quot;&quot;)</td></tr>
<tr class="memitem:ae14fdea230fa1062a4d2a1a9f36b500b" id="r_ae14fdea230fa1062a4d2a1a9f36b500b"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#ae14fdea230fa1062a4d2a1a9f36b500b">ir_constgep2_64</a> (llvm::IRBuilder&lt;&gt; &amp;B, llvm::Value *ptr, uint64_t Idx0, uint64_t Idx1, const char *<a class="el" href="namespaceopenvdb_1_1v13__0.html#a019c188253c90cf2d0b1d6bf710190f4">Name</a>=&quot;&quot;)</td></tr>
<tr class="memitem:ac7f4818d23410060515a7db35b778496" id="r_ac7f4818d23410060515a7db35b778496"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#ac7f4818d23410060515a7db35b778496">ir_constinboundsgep2_64</a> (llvm::IRBuilder&lt;&gt; &amp;B, llvm::Value *ptr, uint64_t Idx0, uint64_t Idx1, const char *<a class="el" href="namespaceopenvdb_1_1v13__0.html#a019c188253c90cf2d0b1d6bf710190f4">Name</a>=&quot;&quot;)</td></tr>
<tr class="memitem:af7d1295dd0caef35dff8ca7fadd49fec" id="r_af7d1295dd0caef35dff8ca7fadd49fec"><td class="memItemLeft" align="right" valign="top">llvm::Type *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#af7d1295dd0caef35dff8ca7fadd49fec">getBaseContainedType</a> (llvm::Type *const type)</td></tr>
<tr class="memdesc:af7d1295dd0caef35dff8ca7fadd49fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the base llvm value which is being pointed to through any number of layered pointers.  <br /></td></tr>
<tr class="memitem:ab8371506c0853b404af6701903a0846c" id="r_ab8371506c0853b404af6701903a0846c"><td class="memItemLeft" align="right" valign="top">llvm::Value *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#ab8371506c0853b404af6701903a0846c">arrayCast</a> (llvm::Value *ptrToArray, llvm::Type *targetElementType, llvm::IRBuilder&lt;&gt; &amp;builder)</td></tr>
<tr class="memdesc:ab8371506c0853b404af6701903a0846c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Casts an array to another array of equal size but of a different element type. Both source and target array element types must be scalar types. The source array llvm <a class="el" href="classopenvdb_1_1v13__0_1_1ax_1_1codegen_1_1Value.html" title="Intermediate representation wrapper for supported value types in AX as immutable instances.">Value</a> should be a pointer to the array to cast.  <br /></td></tr>
<tr class="memitem:a43d53f041562eebe216cd998aacca1bc" id="r_a43d53f041562eebe216cd998aacca1bc"><td class="memItemLeft" align="right" valign="top">llvm::Value *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#a43d53f041562eebe216cd998aacca1bc">arrayIndexUnpack</a> (llvm::Value *ptrToArray, const int16_t index, llvm::IRBuilder&lt;&gt; &amp;builder)</td></tr>
<tr class="memdesc:a43d53f041562eebe216cd998aacca1bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpack a particular element of an array and return a pointer to that element The provided llvm <a class="el" href="classopenvdb_1_1v13__0_1_1ax_1_1codegen_1_1Value.html" title="Intermediate representation wrapper for supported value types in AX as immutable instances.">Value</a> is expected to be a pointer to an array.  <br /></td></tr>
<tr class="memitem:a8367fdea9ffc5a00c802b43fd9384c4d" id="r_a8367fdea9ffc5a00c802b43fd9384c4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#a8367fdea9ffc5a00c802b43fd9384c4d">arrayUnpack</a> (llvm::Value *ptrToArray, std::vector&lt; llvm::Value * &gt; &amp;values, llvm::IRBuilder&lt;&gt; &amp;builder, const bool loadElements=false)</td></tr>
<tr class="memdesc:a8367fdea9ffc5a00c802b43fd9384c4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpack an array type into llvm Values which represent all its elements The provided llvm <a class="el" href="classopenvdb_1_1v13__0_1_1ax_1_1codegen_1_1Value.html" title="Intermediate representation wrapper for supported value types in AX as immutable instances.">Value</a> is expected to be a pointer to an array If loadElements is true, values will store loaded llvm values instead of pointers to the array elements.  <br /></td></tr>
<tr class="memitem:a52c8a0835c5e7d4cc34bafd3d215ae6c" id="r_a52c8a0835c5e7d4cc34bafd3d215ae6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#a52c8a0835c5e7d4cc34bafd3d215ae6c">array3Unpack</a> (llvm::Value *ptrToArray, llvm::Value *&amp;value1, llvm::Value *&amp;value2, llvm::Value *&amp;value3, llvm::IRBuilder&lt;&gt; &amp;builder)</td></tr>
<tr class="memdesc:a52c8a0835c5e7d4cc34bafd3d215ae6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpack the first three elements of an array. The provided llvm <a class="el" href="classopenvdb_1_1v13__0_1_1ax_1_1codegen_1_1Value.html" title="Intermediate representation wrapper for supported value types in AX as immutable instances.">Value</a> is expected to be a pointer to an array.  <br /></td></tr>
<tr class="memitem:a616b251ff2138f5fd680c0c09b3ba268" id="r_a616b251ff2138f5fd680c0c09b3ba268"><td class="memItemLeft" align="right" valign="top">llvm::Value *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#a616b251ff2138f5fd680c0c09b3ba268">array3Pack</a> (llvm::Value *value1, llvm::Value *value2, llvm::Value *value3, llvm::IRBuilder&lt;&gt; &amp;builder)</td></tr>
<tr class="memdesc:a616b251ff2138f5fd680c0c09b3ba268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack three values into a new array and return a pointer to the newly allocated array. If the values are of a mismatching type, the highets order type is uses, as defined by typePrecedence. All llvm values are expected to a be a loaded scalar type.  <br /></td></tr>
<tr class="memitem:aff3a0a55c4be188a0b19cdc729324d77" id="r_aff3a0a55c4be188a0b19cdc729324d77"><td class="memItemLeft" align="right" valign="top">llvm::Value *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#aff3a0a55c4be188a0b19cdc729324d77">arrayPack</a> (llvm::Value *value, llvm::IRBuilder&lt;&gt; &amp;builder, const size_t size=3)</td></tr>
<tr class="memdesc:aff3a0a55c4be188a0b19cdc729324d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack a loaded llvm scalar value into a new array of a specified size and return a pointer to the newly allocated array. Each element of the new array will have the value of the given scalar.  <br /></td></tr>
<tr class="memitem:a95396ba44c3ea25039cbfba9411ea853" id="r_a95396ba44c3ea25039cbfba9411ea853"><td class="memItemLeft" align="right" valign="top">llvm::Value *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#a95396ba44c3ea25039cbfba9411ea853">arrayPack</a> (const std::vector&lt; llvm::Value * &gt; &amp;values, llvm::IRBuilder&lt;&gt; &amp;builder)</td></tr>
<tr class="memdesc:a95396ba44c3ea25039cbfba9411ea853"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack a vector of loaded llvm scalar values into a new array of equal size and return a pointer to the newly allocated array.  <br /></td></tr>
<tr class="memitem:ac93f0a3579beb04642ba6b8835345592" id="r_ac93f0a3579beb04642ba6b8835345592"><td class="memItemLeft" align="right" valign="top">llvm::Value *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#ac93f0a3579beb04642ba6b8835345592">arrayPackCast</a> (std::vector&lt; llvm::Value * &gt; &amp;values, llvm::IRBuilder&lt;&gt; &amp;builder)</td></tr>
<tr class="memdesc:ac93f0a3579beb04642ba6b8835345592"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack a vector of loaded llvm scalar values into a new array of equal size and return a pointer to the newly allocated array. arrayPackCast first checks all the contained types in values and casts all types to the highest order type present. All llvm values in values are expected to be loaded scalar types.  <br /></td></tr>
<tr class="memitem:a6ea6b1eaeb31e098fb2bfe2d983b3ddd" id="r_a6ea6b1eaeb31e098fb2bfe2d983b3ddd"><td class="memItemLeft" align="right" valign="top">llvm::Value *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceopenvdb_1_1v13__0_1_1ax_1_1codegen.html#a6ea6b1eaeb31e098fb2bfe2d983b3ddd">scalarToMatrix</a> (llvm::Value *scalar, llvm::IRBuilder&lt;&gt; &amp;builder, const size_t dim=3)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Legacy IR utilities for LLVM_VERSION_MAJOR &lt;= 15. </p>
<dl class="section author"><dt>Authors</dt><dd>Nick Avramoussis </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_cae5b229f742550e00edd472eaaf99f1.html">openvdb_ax</a></li><li class="navelem"><a href="dir_de747e3eb4c4c2c23b38546883fd0233.html">codegen</a></li><li class="navelem"><a href="LegacyIR_8h.html">LegacyIR.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
